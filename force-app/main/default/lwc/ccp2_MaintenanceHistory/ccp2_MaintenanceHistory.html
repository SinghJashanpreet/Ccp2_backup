<template>
  <template if:true={showListPage}>
    <div class="main-container">
      <div class="header">
        <span class="header-item">
          <div
            class="header-item-div"
            onclick={toggleListType}
          >
            <svg
              width="17"
              height="21"
              viewBox="0 0 20 21"
              fill="none"
              class="mm-drop-down-icon1"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_14998_62367)">
                <g filter="url(#filter0_d_14998_62367)">
                  <path
                    d="M17.5 7.3877L15.7375 5.48486L10 11.6657L4.2625 5.48486L2.5 7.3877L10 15.4849L17.5 7.3877Z"
                    fill="#262626"
                  />
                </g>
              </g>
              <defs>
                <filter
                  id="filter0_d_14998_623671"
                  x="-17.5"
                  y="-14.5151"
                  width="55"
                  height="50"
                  filterUnits="userSpaceOnUse"
                  color-interpolation-filters="sRGB"
                >
                  <feFlood flood-opacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset />
                  <feGaussianBlur stdDeviation="10" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_14998_62367"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_14998_62367"
                    result="shape"
                  />
                </filter>
                <clipPath id="clip0_14998_623671">
                  <rect
                    width="20"
                    height="20"
                    fill="white"
                    transform="translate(0 0.484863)"
                  />
                </clipPath>
              </defs>
            </svg>
            絞り込み
          </div>
          <template if:true={showListType}>
            <div class="mm-filter-dropdown1" onclick={handleInsideClick}>
              <div class="mm-filter-dropdown-rows1">
                <input
                  type="checkbox"
                  name="All"
                  checked={listTypeFilter.selectAll}
                  onchange={handleListTypeChangeAll}
                />
                <p>すべて</p>
              </div>
              <div class="mm-filter-dropdown-rows1">
                <input
                  type="checkbox"
                  name="Option 1"
                  checked={listTypeFilter.option1}
                  onchange={handleListTypeChange}
                />
                <p>予定</p>
              </div>
              <div class="mm-filter-dropdown-rows1">
                <input
                  type="checkbox"
                  name="Option 2"
                  checked={listTypeFilter.option2}
                  onchange={handleListTypeChange}
                />
                <p>履歴</p>
              </div>
            </div>
          </template>
        </span>
      </div>

      <div class="content">
        <div class="table">
          <div class="table-header">
            <span
              class="table-header-item"
              onclick={toggleServiceType}
            >
              <p>種別</p>
              <svg
                width="17"
                height="21"
                viewBox="0 0 20 21"
                fill="none"
                class="mm-drop-down-icon1"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_14998_62367)">
                  <g filter="url(#filter0_d_14998_62367)">
                    <path
                      d="M17.5 7.3877L15.7375 5.48486L10 11.6657L4.2625 5.48486L2.5 7.3877L10 15.4849L17.5 7.3877Z"
                      fill="#262626"
                    />
                  </g>
                </g>
                <defs>
                  <filter
                    id="filter0_d_14998_62367"
                    x="-17.5"
                    y="-14.5151"
                    width="55"
                    height="50"
                    filterUnits="userSpaceOnUse"
                    color-interpolation-filters="sRGB"
                  >
                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                    <feColorMatrix
                      in="SourceAlpha"
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                      result="hardAlpha"
                    />
                    <feOffset />
                    <feGaussianBlur stdDeviation="10" />
                    <feComposite in2="hardAlpha" operator="out" />
                    <feColorMatrix
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"
                    />
                    <feBlend
                      mode="normal"
                      in2="BackgroundImageFix"
                      result="effect1_dropShadow_14998_62367"
                    />
                    <feBlend
                      mode="normal"
                      in="SourceGraphic"
                      in2="effect1_dropShadow_14998_62367"
                      result="shape"
                    />
                  </filter>
                  <clipPath id="clip0_14998_62367">
                    <rect
                      width="20"
                      height="20"
                      fill="white"
                      transform="translate(0 0.484863)"
                    />
                  </clipPath>
                </defs>
              </svg>
              <template if:true={showServiceType}>
                <div class="mm-filter-dropdown2" onclick={handleInsideClick}>
                  <div class="mm-filter-dropdown-rows2">
                    <input
                      type="checkbox"
                      name="All"
                      checked={serviceTypeFilter.selectAll}
                      onchange={handleServiceTypeChangeAll}
                    />
                    <p>すべて</p>
                  </div>
                  <div class="mm-filter-dropdown-rows2">
                    <input
                      type="checkbox"
                      name="Option 1"
                      checked={serviceTypeFilter.option1}
                      onchange={handleServiceTypeChange}
                    />
                    <p>一般整備</p>
                  </div>
                  <div class="mm-filter-dropdown-rows2">
                    <input
                      type="checkbox"
                      name="Option 2"
                      checked={serviceTypeFilter.option2}
                      onchange={handleServiceTypeChange}
                    />
                    <p>車検整備</p>
                  </div>
                  <div class="mm-filter-dropdown-rows2">
                    <input
                      type="checkbox"
                      name="Option 3"
                      checked={serviceTypeFilter.option3}
                      onchange={handleServiceTypeChange}
                    />
                    <p>3か月点検</p>
                  </div>
                  <div class="mm-filter-dropdown-rows2">
                    <input
                      type="checkbox"
                      name="Option 4"
                      checked={serviceTypeFilter.option4}
                      onchange={handleServiceTypeChange}
                    />
                    <p>6か月点検</p>
                  </div>
                  <div class="mm-filter-dropdown-rows2">
                    <input
                      type="checkbox"
                      name="Option 5"
                      checked={serviceTypeFilter.option5}
                      onchange={handleServiceTypeChange}
                    />
                    <p>12か月点検</p>
                  </div>
                  <div class="mm-filter-dropdown-rows2">
                    <input
                      type="checkbox"
                      name="Option 6"
                      checked={serviceTypeFilter.option6}
                      onchange={handleServiceTypeChange}
                    />
                    <p>24か月点検</p>
                  </div>
                </div>
              </template>
            </span>
            <span
              class="table-header-item"
              onclick={toggleSort1}
            >
              <p>予定日</p>
              <svg
                width="24"
                height="25"
                viewBox="0 0 24 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                if:true={showNormalSort1}
              >
                <path
                  d="M17.6826 13.796H6.31741C6.25796 13.7957 6.19962 13.8121 6.14912 13.8433C6.09862 13.8746 6.058 13.9195 6.03194 13.9727C6.00588 14.026 5.99544 14.0855 6.00182 14.1445C6.0082 14.2034 6.03114 14.2593 6.068 14.3058L11.7506 21.5447C11.7801 21.5826 11.8179 21.6133 11.8611 21.6344C11.9044 21.6555 11.9519 21.6665 12 21.6665C12.0481 21.6665 12.0956 21.6555 12.1389 21.6344C12.1821 21.6133 12.2199 21.5826 12.2494 21.5447L17.932 14.3058C17.9689 14.2593 17.9918 14.2034 17.9982 14.1445C18.0046 14.0855 17.9941 14.026 17.9681 13.9727C17.942 13.9195 17.9014 13.8746 17.8509 13.8433C17.8004 13.8121 17.742 13.7957 17.6826 13.796ZM6.31741 11.537H17.6826C17.742 11.5374 17.8004 11.5209 17.8509 11.4897C17.9014 11.4584 17.942 11.4135 17.9681 11.3603C17.9941 11.307 18.0046 11.2475 17.9982 11.1885C17.9918 11.1296 17.9689 11.0737 17.932 11.0272L12.2494 3.78827C12.2199 3.75036 12.1821 3.71969 12.1389 3.69858C12.0956 3.67748 12.0481 3.6665 12 3.6665C11.9519 3.6665 11.9044 3.67748 11.8611 3.69858C11.8179 3.71969 11.7801 3.75036 11.7506 3.78827L6.068 11.0272C6.03114 11.0737 6.0082 11.1296 6.00182 11.1885C5.99544 11.2475 6.00588 11.307 6.03194 11.3603C6.058 11.4135 6.09862 11.4584 6.14912 11.4897C6.19962 11.5209 6.25796 11.5374 6.31741 11.537Z"
                  fill="#262626"
                />
              </svg>

              <svg
                width="24"
                height="25"
                viewBox="0 0 24 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                if:true={showDescSort1}
              >
                <path
                  d="M17.6826 13.7959H6.31741C6.25796 13.7956 6.19962 13.812 6.14912 13.8433C6.09862 13.8746 6.058 13.9194 6.03194 13.9727C6.00588 14.026 5.99544 14.0855 6.00182 14.1444C6.0082 14.2033 6.03114 14.2593 6.068 14.3058L11.7506 21.5447C11.7801 21.5826 11.8179 21.6133 11.8611 21.6344C11.9044 21.6555 11.9519 21.6664 12 21.6664C12.0481 21.6664 12.0956 21.6555 12.1389 21.6344C12.1821 21.6133 12.2199 21.5826 12.2494 21.5447L17.932 14.3058C17.9689 14.2593 17.9918 14.2033 17.9982 14.1444C18.0046 14.0855 17.9941 14.026 17.9681 13.9727C17.942 13.9194 17.9014 13.8746 17.8509 13.8433C17.8004 13.812 17.742 13.7956 17.6826 13.7959Z"
                  fill="#262626"
                />
                <path
                  d="M6.31741 11.537H17.6826C17.742 11.5374 17.8004 11.5209 17.8509 11.4897C17.9014 11.4584 17.942 11.4135 17.9681 11.3603C17.9941 11.307 18.0046 11.2475 17.9982 11.1885C17.9918 11.1296 17.9689 11.0737 17.932 11.0272L12.2494 3.78827C12.2199 3.75036 12.1821 3.71969 12.1389 3.69858C12.0956 3.67748 12.0481 3.6665 12 3.6665C11.9519 3.6665 11.9044 3.67748 11.8611 3.69858C11.8179 3.71969 11.7801 3.75036 11.7506 3.78827L6.068 11.0272C6.03114 11.0737 6.0082 11.1296 6.00182 11.1885C5.99544 11.2475 6.00588 11.307 6.03194 11.3603C6.058 11.4135 6.09862 11.4584 6.14912 11.4897C6.19962 11.5209 6.25796 11.5374 6.31741 11.537Z"
                  fill="#BBBBBB"
                />
              </svg>

              <svg
                width="24"
                height="25"
                viewBox="0 0 24 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                if:true={showAscSort1}
              >
                <path
                  d="M17.6826 13.7961H6.31741C6.25796 13.7958 6.19962 13.8122 6.14912 13.8435C6.09862 13.8748 6.058 13.9197 6.03194 13.9729C6.00588 14.0262 5.99544 14.0857 6.00182 14.1447C6.0082 14.2036 6.03114 14.2595 6.068 14.306L11.7506 21.5449C11.7801 21.5828 11.8179 21.6135 11.8611 21.6346C11.9044 21.6557 11.9519 21.6667 12 21.6667C12.0481 21.6667 12.0956 21.6557 12.1389 21.6346C12.1821 21.6135 12.2199 21.5828 12.2494 21.5449L17.932 14.306C17.9689 14.2595 17.9918 14.2036 17.9982 14.1447C18.0046 14.0857 17.9941 14.0262 17.9681 13.9729C17.942 13.9197 17.9014 13.8748 17.8509 13.8435C17.8004 13.8122 17.742 13.7958 17.6826 13.7961Z"
                  fill="#BBBBBB"
                />
                <path
                  d="M6.31741 11.5373H17.6826C17.742 11.5376 17.8004 11.5212 17.8509 11.4899C17.9014 11.4586 17.942 11.4138 17.9681 11.3605C17.9941 11.3072 18.0046 11.2477 17.9982 11.1888C17.9918 11.1298 17.9689 11.0739 17.932 11.0274L12.2494 3.78852C12.2199 3.75061 12.1821 3.71993 12.1389 3.69882C12.0956 3.67772 12.0481 3.66675 12 3.66675C11.9519 3.66675 11.9044 3.67772 11.8611 3.69882C11.8179 3.71993 11.7801 3.75061 11.7506 3.78852L6.068 11.0274C6.03114 11.0739 6.0082 11.1298 6.00182 11.1888C5.99544 11.2477 6.00588 11.3072 6.03194 11.3605C6.058 11.4138 6.09862 11.4586 6.14912 11.4899C6.19962 11.5212 6.25796 11.5376 6.31741 11.5373Z"
                  fill="#262626"
                />
              </svg>
            </span>
            <span
              class="table-header-item"
              onclick={toggleSort2}
            >
              <p>実施日</p>
              <svg
                width="24"
                height="25"
                viewBox="0 0 24 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                if:true={showNormalSort2}
              >
                <path
                  d="M17.6826 13.796H6.31741C6.25796 13.7957 6.19962 13.8121 6.14912 13.8433C6.09862 13.8746 6.058 13.9195 6.03194 13.9727C6.00588 14.026 5.99544 14.0855 6.00182 14.1445C6.0082 14.2034 6.03114 14.2593 6.068 14.3058L11.7506 21.5447C11.7801 21.5826 11.8179 21.6133 11.8611 21.6344C11.9044 21.6555 11.9519 21.6665 12 21.6665C12.0481 21.6665 12.0956 21.6555 12.1389 21.6344C12.1821 21.6133 12.2199 21.5826 12.2494 21.5447L17.932 14.3058C17.9689 14.2593 17.9918 14.2034 17.9982 14.1445C18.0046 14.0855 17.9941 14.026 17.9681 13.9727C17.942 13.9195 17.9014 13.8746 17.8509 13.8433C17.8004 13.8121 17.742 13.7957 17.6826 13.796ZM6.31741 11.537H17.6826C17.742 11.5374 17.8004 11.5209 17.8509 11.4897C17.9014 11.4584 17.942 11.4135 17.9681 11.3603C17.9941 11.307 18.0046 11.2475 17.9982 11.1885C17.9918 11.1296 17.9689 11.0737 17.932 11.0272L12.2494 3.78827C12.2199 3.75036 12.1821 3.71969 12.1389 3.69858C12.0956 3.67748 12.0481 3.6665 12 3.6665C11.9519 3.6665 11.9044 3.67748 11.8611 3.69858C11.8179 3.71969 11.7801 3.75036 11.7506 3.78827L6.068 11.0272C6.03114 11.0737 6.0082 11.1296 6.00182 11.1885C5.99544 11.2475 6.00588 11.307 6.03194 11.3603C6.058 11.4135 6.09862 11.4584 6.14912 11.4897C6.19962 11.5209 6.25796 11.5374 6.31741 11.537Z"
                  fill="#262626"
                />
              </svg>
              <svg
                width="24"
                height="25"
                viewBox="0 0 24 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                if:true={showDescSort2}
              >
                <path
                  d="M17.6826 13.7959H6.31741C6.25796 13.7956 6.19962 13.812 6.14912 13.8433C6.09862 13.8746 6.058 13.9194 6.03194 13.9727C6.00588 14.026 5.99544 14.0855 6.00182 14.1444C6.0082 14.2033 6.03114 14.2593 6.068 14.3058L11.7506 21.5447C11.7801 21.5826 11.8179 21.6133 11.8611 21.6344C11.9044 21.6555 11.9519 21.6664 12 21.6664C12.0481 21.6664 12.0956 21.6555 12.1389 21.6344C12.1821 21.6133 12.2199 21.5826 12.2494 21.5447L17.932 14.3058C17.9689 14.2593 17.9918 14.2033 17.9982 14.1444C18.0046 14.0855 17.9941 14.026 17.9681 13.9727C17.942 13.9194 17.9014 13.8746 17.8509 13.8433C17.8004 13.812 17.742 13.7956 17.6826 13.7959Z"
                  fill="#262626"
                />
                <path
                  d="M6.31741 11.537H17.6826C17.742 11.5374 17.8004 11.5209 17.8509 11.4897C17.9014 11.4584 17.942 11.4135 17.9681 11.3603C17.9941 11.307 18.0046 11.2475 17.9982 11.1885C17.9918 11.1296 17.9689 11.0737 17.932 11.0272L12.2494 3.78827C12.2199 3.75036 12.1821 3.71969 12.1389 3.69858C12.0956 3.67748 12.0481 3.6665 12 3.6665C11.9519 3.6665 11.9044 3.67748 11.8611 3.69858C11.8179 3.71969 11.7801 3.75036 11.7506 3.78827L6.068 11.0272C6.03114 11.0737 6.0082 11.1296 6.00182 11.1885C5.99544 11.2475 6.00588 11.307 6.03194 11.3603C6.058 11.4135 6.09862 11.4584 6.14912 11.4897C6.19962 11.5209 6.25796 11.5374 6.31741 11.537Z"
                  fill="#BBBBBB"
                />
              </svg>
              <svg
                width="24"
                height="25"
                viewBox="0 0 24 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                if:true={showAscSort2}
              >
                <path
                  d="M17.6826 13.7961H6.31741C6.25796 13.7958 6.19962 13.8122 6.14912 13.8435C6.09862 13.8748 6.058 13.9197 6.03194 13.9729C6.00588 14.0262 5.99544 14.0857 6.00182 14.1447C6.0082 14.2036 6.03114 14.2595 6.068 14.306L11.7506 21.5449C11.7801 21.5828 11.8179 21.6135 11.8611 21.6346C11.9044 21.6557 11.9519 21.6667 12 21.6667C12.0481 21.6667 12.0956 21.6557 12.1389 21.6346C12.1821 21.6135 12.2199 21.5828 12.2494 21.5449L17.932 14.306C17.9689 14.2595 17.9918 14.2036 17.9982 14.1447C18.0046 14.0857 17.9941 14.0262 17.9681 13.9729C17.942 13.9197 17.9014 13.8748 17.8509 13.8435C17.8004 13.8122 17.742 13.7958 17.6826 13.7961Z"
                  fill="#BBBBBB"
                />
                <path
                  d="M6.31741 11.5373H17.6826C17.742 11.5376 17.8004 11.5212 17.8509 11.4899C17.9014 11.4586 17.942 11.4138 17.9681 11.3605C17.9941 11.3072 18.0046 11.2477 17.9982 11.1888C17.9918 11.1298 17.9689 11.0739 17.932 11.0274L12.2494 3.78852C12.2199 3.75061 12.1821 3.71993 12.1389 3.69882C12.0956 3.67772 12.0481 3.66675 12 3.66675C11.9519 3.66675 11.9044 3.67772 11.8611 3.69882C11.8179 3.71993 11.7801 3.75061 11.7506 3.78852L6.068 11.0274C6.03114 11.0739 6.0082 11.1298 6.00182 11.1888C5.99544 11.2477 6.00588 11.3072 6.03194 11.3605C6.058 11.4138 6.09862 11.4586 6.14912 11.4899C6.19962 11.5212 6.25796 11.5376 6.31741 11.5373Z"
                  fill="#262626"
                />
              </svg>
            </span>
            <span
              class="table-header-item"
              onclick={toggleFactory}
            >
              <p>入庫先区分</p>
              <svg
                width="17"
                height="21"
                viewBox="0 0 20 21"
                fill="none"
                class="mm-drop-down-icon1"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_14998_62367)">
                  <g filter="url(#filter0_d_14998_62367)">
                    <path
                      d="M17.5 7.3877L15.7375 5.48486L10 11.6657L4.2625 5.48486L2.5 7.3877L10 15.4849L17.5 7.3877Z"
                      fill="#262626"
                    />
                  </g>
                </g>
                <defs>
                  <filter
                    id="filter0_d_14998_623672"
                    x="-17.5"
                    y="-14.5151"
                    width="55"
                    height="50"
                    filterUnits="userSpaceOnUse"
                    color-interpolation-filters="sRGB"
                  >
                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                    <feColorMatrix
                      in="SourceAlpha"
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                      result="hardAlpha"
                    />
                    <feOffset />
                    <feGaussianBlur stdDeviation="10" />
                    <feComposite in2="hardAlpha" operator="out" />
                    <feColorMatrix
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"
                    />
                    <feBlend
                      mode="normal"
                      in2="BackgroundImageFix"
                      result="effect1_dropShadow_14998_62367"
                    />
                    <feBlend
                      mode="normal"
                      in="SourceGraphic"
                      in2="effect1_dropShadow_14998_62367"
                      result="shape"
                    />
                  </filter>
                  <clipPath id="clip0_14998_6236731">
                    <rect
                      width="20"
                      height="20"
                      fill="white"
                      transform="translate(0 0.484863)"
                    />
                  </clipPath>
                </defs>
              </svg>

              <template if:true={showFactoryType}>
                <div class="mm-filter-dropdown3" onclick={handleInsideClick}>
                  <div class="mm-filter-dropdown-rows3">
                    <input
                      type="checkbox"
                      name="All"
                      checked={factoryFilter.selectAll}
                      onchange={handleFactoryTypeChangeAll}
                    />
                    <p>すべて</p>
                  </div>
                  <!-- <div class="mm-filter-dropdown-rows3">
                      <input
                        type="checkbox"
                        name="Option 1"
                        checked={factoryFilter.option1}
                        onchange={handleFactoryTypeChange}
                      />
                      <p>予定1</p>
                    </div> -->
                  <div class="mm-filter-dropdown-rows3">
                    <input
                      type="checkbox"
                      name="Option 2"
                      checked={factoryFilter.option2}
                      onchange={handleFactoryTypeChange}
                    />
                    <p>自社</p>
                  </div>
                  <div class="mm-filter-dropdown-rows3">
                    <input
                      type="checkbox"
                      name="Option 3"
                      checked={factoryFilter.option3}
                      onchange={handleFactoryTypeChange}
                    />
                    <p>ふそう/自社 以外</p>
                  </div>
                </div>
              </template>
            </span>
            <span class="table-header-item">入庫先</span>
            <span class="table-header-item">オーダー番号</span>
            <span class="table-header-item">詳細</span>
          </div>
          <template
            for:each={maintainceData}
            for:item="elm"
            if:false={showEmptyContiner}
          >
            <div class="table-row" key={elm.Id}>
              <span class="table-row-item">{elm.Service_Type__c}</span>
              <span class="table-row-item">{elm.Schedule_Date__c}</span>
              <span class="table-row-item">{elm.Implementation_Date__c}</span>
              <span class="table-row-item">{elm.Service_Factory__c}</span>
              <span
                class="table-row-item"
                title={elm.Recieving_Destination__c_full}
                >{elm.Recieving_Destination__c}</span
              >
              <span class="table-row-item">{elm.Ordered_Number__c}</span>
              <span
                class="table-row-item"
                data-id={elm.Id}
                onclick={toggleListToDetailUi}
                >詳細情報</span
              >
            </div>
          </template>
          <div class="empty-container" if:true={showEmptyContiner}>
            <img src={emptyRecallDataIcon} />
            <p>整備情報がありません</p>
          </div>
        </div>
      </div>

      <div class="footer">
        <div class="footer-buttons">
          <div class="footer-buttons-item" onclick={handleOpenNewMaintainHistory}>
            <svg
              width="18"
              height="21"
              viewBox="0 0 18 21"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16 2.5H15V0.5H13V2.5H5V0.5H3V2.5H2C0.89 2.5 0.00999999 3.4 0.00999999 4.5L0 18.5C0 19.6 0.89 20.5 2 20.5H16C17.1 20.5 18 19.6 18 18.5V4.5C18 3.4 17.1 2.5 16 2.5ZM16 18.5H2V8.5H16V18.5ZM16 6.5H2V4.5H16V6.5ZM6 12.5H4V10.5H6V12.5ZM10 12.5H8V10.5H10V12.5ZM14 12.5H12V10.5H14V12.5ZM6 16.5H4V14.5H6V16.5ZM10 16.5H8V14.5H10V16.5ZM14 16.5H12V14.5H14V16.5Z"
                fill="black"
              />
            </svg>
            <span>整備予定登録</span>
          </div>
          <div class="footer-buttons-item" onclick={onClose}>
            <svg
              width="20"
              height="15"
              viewBox="0 0 20 15"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.933594 4H13V6H0.933594V4ZM0.933594 2H19V0H0.933594V2ZM0.933594 10H7.93359V8H0.933594V10ZM15.9436 6.87L16.6536 6.16C17.0436 5.77 17.6736 5.77 18.0636 6.16L18.7736 6.87C19.1636 7.26 19.1636 7.89 18.7736 8.28L18.0636 8.99L15.9436 6.87ZM15.2336 7.58L9.93359 12.88V15H12.0536L17.3536 9.7L15.2336 7.58Z"
                fill="black"
              />
            </svg>
            <span>整備履歴登録</span>
          </div>
        </div>

        <div class="mm-pagination-container">
          <template if:true={hasMaintainaceItems}>
            <div class="mm-big-div-page">
              <button
                class="mm-nav-button"
                onclick={handlePreviousPage2}
                disabled={isPreviousDisabled2}
              >
                <lightning-icon
                  icon-name="utility:chevronleft"
                  alternative-text="Previous"
                  size="xx-small"
                ></lightning-icon>
              </button>
              <span if:true={showLeftDots2} class="mm-page-button-dots"
                >...</span
              >

              <template for:each={visiblePageCount2} for:item="page">
                <button
                  class="mm-page-button"
                  data-page={page}
                  onclick={pageCountClick2}
                  key={page}
                >
                  {page}
                </button>
              </template>

              <span if:true={showRightDots2} class="mm-page-button-dots"
                >...</span
              >
              <button
                if:true={showRightDots2}
                class="mm-page-button"
                data-page={totalPageCount2}
                onclick={pageCountClick2}
              >
                {totalPageCount2}
              </button>

              <button
                class="mm-nav-button"
                onclick={handleNextPage2}
                disabled={isNextDisabled2}
              >
                <lightning-icon
                  icon-name="utility:chevronright"
                  alternative-text="Next"
                  size="xx-small"
                ></lightning-icon>
              </button>
            </div>
          </template>
        </div>
      </div>
    </div>
  </template>
  <template if:true={showDetailPage}>
    <div class="detail-container" if:false={showDetailPageLoader}>
      <div class="detail-header" onclick={returnToList}>
        <svg
          class="back-btn"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_21083_119975)">
            <g filter="url(#filter0_d_21083_119975)">
              <path
                d="M14.4777 18L16 16.59L11.0553 12L16 7.41L14.4777 6L8 12L14.4777 18Z"
                fill="#262626"
              />
            </g>
          </g>
          <defs>
            <filter
              id="filter0_d_21083_119975"
              x="-12"
              y="-14"
              width="48"
              height="52"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                result="hardAlpha"
              />
              <feOffset />
              <feGaussianBlur stdDeviation="10" />
              <feComposite in2="hardAlpha" operator="out" />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"
              />
              <feBlend
                mode="normal"
                in2="BackgroundImageFix"
                result="effect1_dropShadow_21083_119975"
              />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="effect1_dropShadow_21083_119975"
                result="shape"
              />
            </filter>
            <clipPath id="clip0_21083_119975">
              <rect width="24" height="24" fill="white" />
            </clipPath>
          </defs>
        </svg>
        <p class="header-text">整備情報へ戻る</p>
      </div>

      <div class="detail-first-container">
        <div class="first-box-header">
          <p class="first-box-header-text">基本情報</p>
          <template if:false={iseditTopInfo}>
            <svg
              class="first-box-header-icon"
              width="18"
              height="16"
              viewBox="0 0 18 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              onclick={editTopInfo}
            >
              <path d="M12 12L8 16H18V12H12Z" fill="#262626" />
              <path
                d="M9.06 3.19L0 12.25V16H3.75L12.81 6.94L9.06 3.19ZM2.92 14H2V13.08L9.06 6.02L9.98 6.94L2.92 14Z"
                fill="#262626"
              />
              <path
                d="M15.71 4.04C16.1 3.65 16.1 3.02 15.71 2.63L13.37 0.29C13.17 0.09 12.92 0 12.66 0C12.41 0 12.15 0.1 11.96 0.29L10.13 2.12L13.88 5.87L15.71 4.04Z"
                fill="#262626"
              />
            </svg>
          </template>
        </div>
        <template if:false={iseditTopInfo}>
          <div class="first-box-content">
            <div class="first-box-left">
              <div class="first-box-line1">
                <div class="first-box-line1-1">種別</div>
                <div class="first-box-line1-2">
                  {maintenanceDetails.Service_Type__c}
                </div>
              </div>
              <template if:false={ifHistory}>
                <div class="first-box-line2">
                  <div class="first-box-line2-1">予定日</div>
                  <div class="first-box-line2-2">
                    {maintenanceDetails.Schedule_Date__c}
                  </div>
                </div>
              </template>
              <div class="first-box-line3">
                <div class="first-box-line3-1">実施日</div>
                <div class="first-box-line3-2">
                  {maintenanceDetails.Implementation_Date__c}
                </div>
              </div>
            </div>
            <div class="first-box-right">
              <div class="first-box-line1-right">
                <div class="first-box-line1-3">入庫先区分</div>
                <div class="first-box-line1-4">
                  {maintenanceDetails.Service_Factory__c}
                </div>
              </div>
              <div class="first-box-line2-right">
                <div class="first-box-line2-3" style="flex-shrink: 0;">入庫先</div>
                <div class="first-box-line2-4" title={maintenanceDetails.Recieving_Destination__c}>
                  {maintenanceDetails.Recieving_Destination__c}
                </div>
              </div>
            </div>
          </div>
          <div class="first-box-footer">
            <div class="first-box-footer-item">
              <div>最終更新者</div>
              <div>{maintenanceDetails.LastModifiedBy}</div>
            </div>
            <div class="first-box-footer-item">
              <div>最終更新日</div>
              <div>{maintenanceDetails.LastModifiedDate}</div>
            </div>
          </div>
        </template>
        <template if:true={iseditTopInfo}>
          <div class="edit-main-div">
            <template if:false={ifHistory}>
              <div style="width: 100%;">
                <div style="display: flex; width: 100%;">
                  <div class="edit-left-div">
                    <div class="edit-content-left">
                      <div class="edit-label">
                        整備種別
                        <span class="reqtxt">必須</span>
                      </div>
                      <div class="inputs-edit">
                        <input type="text" class="InputsSchedule icon" onclick={handleScheduleTypeChange} autocomplete="off"
                        placeholder="選択してください"
                        value={selectedPicklistScheduleType} name="ScheduleType"
                        readonly>
                        <template if:true={showlistScheduleType}>
                          <div class="listScheduleType lists2 no-scroll" name="ScheduleType"
                              onclick={handleInsideClick}>
                              <template for:each={serviceTypeOptions} for:item="sch">
                                  <div key={sch.value} class="list-item" onclick={handlePickListChange}
                                      data-namee="ScheduleType" data-idd={sch.value}>
                                      <p data-namee="ScheduleType" data-idd={sch.value}>
                                          {sch.label}
                                      </p>
                                  </div>
                              </template>
                          </div>
                        </template>
                      </div>
                    </div>
                    <div class="edit-content-left">
                      <div class="edit-label">
                        予定日
                        <span class="reqtxt">必須</span>
                      </div>
                      <div class="inputs-edit">
                        <!-- <input type="text" class="InputsSchedule" value={maintenanceDetails.Schedule_Date__c}> -->
                        <template if:true={showScheduleDate}>
                          <div class="calendar-div">
                              <div class="icon-calendar">
                                  <input class="custom-input" value={displayDateSchedule} readonly onclick={openCalendarSchedule} placeholder="選択してください" />
                                  <span class="svg-container-cal" onclick={openCalendarSchedule}>
                                      <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg" onclick={openCalendarSchedule}>
                                          <path d="M19.5 4H18.5V2H16.5V4H8.5V2H6.5V4H5.5C4.39 4 3.51 4.9 3.51 6L3.5 20C3.5 21.1 4.39 22 5.5 22H19.5C20.6 22 21.5 21.1 21.5 20V6C21.5 4.9 20.6 4 19.5 4ZM19.5 20H5.5V10H19.5V20ZM19.5 8H5.5V6H19.5V8ZM9.5 14H7.5V12H9.5V14ZM13.5 14H11.5V12H13.5V14ZM17.5 14H15.5V12H17.5V14ZM9.5 18H7.5V16H9.5V18ZM13.5 18H11.5V16H13.5V18ZM17.5 18H15.5V16H17.5V18Z" fill="#7B7B7B"/>
                                      </svg>
                                  </span>
                              </div>
                              <template if:true={isCalendarOpen}>
                                  <div class="calendar-popup" onclick={handleInsideClick}>
                                      <div class="calendar-header">
                                          <div>
                                              <button class="button-disable" disabled={isPrevMonthDisabled}>
                                                  <lightning-icon 
                                                      class="nav-button prev-button" 
                                                      icon-name="utility:chevronleft" 
                                                      alternative-text="Previous Month" 
                                                      onclick={goToPreviousMonth}
                                                      size="xx-small">
                                                  </lightning-icon>
                                              </button>
                                              <span class="calendar-month">{monthLabel}</span>
                                              <button class="button-disable">
                                                  <lightning-icon 
                                                      class="nav-button next-button" 
                                                      icon-name="utility:chevronright" 
                                                      alternative-text="Next Month" 
                                                      onclick={goToNextMonth}
                                                      size="xx-small">
                                                  </lightning-icon>
                                              </button>
                                          </div>
                                          <div>
                                              <span class="calendar-year">{era} {year}</span>
                                          </div>
                                      </div>
          
                                      <div class="calendar-days-row">
                                          <!-- <div class="day-label">日</div> -->
                                          <div class="day-label">J</div>
                                          <div class="day-label">月</div>
                                          <div class="day-label">火</div>
                                          <div class="day-label">水</div>
                                          <div class="day-label">木</div>
                                          <div class="day-label">金</div>
                                          <div class="day-label">土</div>
                                      </div>
          
                                      <div class="calendar-dates-grid">
                                          <template for:each={calendarDates} for:item="day">
                                              <button key={day.value} class={day.className} data-day={day.value} onclick={selectDate} disabled={day.isDisabled}>
                                                  {day.value}
                                              </button>
                                          </template>
                                      </div>
          
                                      <div class="calendar-footer">
                                          <div class="reset-button" onclick={resetDate}>
                                              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                              <path d="M11 20.95C8.98333 20.7 7.3125 19.8208 5.9875 18.3125C4.6625 16.8042 4 15.0333 4 13C4 11.9 4.21667 10.8458 4.65 9.8375C5.08333 8.82917 5.7 7.95 6.5 7.2L7.925 8.625C7.29167 9.19167 6.8125 9.85 6.4875 10.6C6.1625 11.35 6 12.15 6 13C6 14.4667 6.46667 15.7625 7.4 16.8875C8.33333 18.0125 9.53333 18.7 11 18.95V20.95ZM13 20.95V18.95C14.45 18.6833 15.6458 17.9917 16.5875 16.875C17.5292 15.7583 18 14.4667 18 13C18 11.3333 17.4167 9.91667 16.25 8.75C15.0833 7.58333 13.6667 7 12 7H11.925L13.025 8.1L11.625 9.5L8.125 6L11.625 2.5L13.025 3.9L11.925 5H12C14.2333 5 16.125 5.775 17.675 7.325C19.225 8.875 20 10.7667 20 13C20 15.0167 19.3375 16.7792 18.0125 18.2875C16.6875 19.7958 15.0167 20.6833 13 20.95Z" fill="#262626"/>
                                              </svg>
                                              <p>リセット</p>
                                          </div>
                                          <button class="yes-button" onclick={confirmDate} disabled={selectedDatefun}>完了</button>
                                      </div>
                                  </div>
                              </template>
                          </div>
                        </template>  
                      </div>
                    </div>
                    <div class="edit-content-left">
                      <div class="edit-label">
                        実施日
                        <span class="greytxt">任意</span>
                      </div>
                      <div class="inputs-edit">
                        <!-- <input type="text" class="InputsSchedule" value={maintenanceDetails.Implementation_Date__c}> -->
                        <template if:true={showImplementation}>
                          <div class="calendar-div">
                              <!-- <div class="calendarType">
                                  実施日
                                  <span class="reqtxt">必須</span>
                              </div> -->
                              <div class="icon-calendar">
                                  <input class="custom-input" value={displayDate} readonly onclick={openCalendarImplementation} placeholder="選択してください" />
                                  <span class="svg-container-cal" onclick={openCalendarImplementation}>
                                      <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg" onclick={openCalendarImplementation}>
                                          <path d="M19.5 4H18.5V2H16.5V4H8.5V2H6.5V4H5.5C4.39 4 3.51 4.9 3.51 6L3.5 20C3.5 21.1 4.39 22 5.5 22H19.5C20.6 22 21.5 21.1 21.5 20V6C21.5 4.9 20.6 4 19.5 4ZM19.5 20H5.5V10H19.5V20ZM19.5 8H5.5V6H19.5V8ZM9.5 14H7.5V12H9.5V14ZM13.5 14H11.5V12H13.5V14ZM17.5 14H15.5V12H17.5V14ZM9.5 18H7.5V16H9.5V18ZM13.5 18H11.5V16H13.5V18ZM17.5 18H15.5V16H17.5V18Z" fill="#7B7B7B"/>
                                      </svg>
                                  </span>
                              </div>
                              <template if:true={isCalendarOpen2}>
                                  <div class="calendar-popup2" onclick={handleInsideClick}>
                                      <div class="calendar-header">
                                          <div>
                                              <button class="button-disable">
                                                  <lightning-icon 
                                                      class="nav-button prev-button" 
                                                      icon-name="utility:chevronleft" 
                                                      alternative-text="Previous Month" 
                                                      onclick={goToPreviousMonth2}
                                                      size="xx-small">
                                                  </lightning-icon>
                                              </button>
                                              <span class="calendar-month">{monthLabel2}</span>
                                              <button class="button-disable" disabled={isNextMonthDisabled2}>
                                                  <lightning-icon 
                                                      class="nav-button next-button" 
                                                      icon-name="utility:chevronright" 
                                                      alternative-text="Next Month" 
                                                      onclick={goToNextMonth2}
                                                      size="xx-small">
                                                  </lightning-icon>
                                              </button>
                                          </div>
                                          <div>
                                              <span class="calendar-year">{era2} {year2}</span>
                                          </div>
                                      </div>
          
                                      <div class="calendar-days-row">
                                          <div class="day-label">日</div>
                                          <div class="day-label">月</div>
                                          <div class="day-label">火</div>
                                          <div class="day-label">水</div>
                                          <div class="day-label">木</div>
                                          <div class="day-label">金</div>
                                          <div class="day-label">土</div>
                                      </div>
          
                                      <div class="calendar-dates-grid">
                                          <template for:each={calendarDates2} for:item="day">
                                              <button key={day.value} class={day.className} data-day={day.value} onclick={selectDate2} disabled={day.isDisabled}>
                                                  {day.value}
                                              </button>
                                          </template>
                                      </div>
          
                                      <div class="calendar-footer">
                                          <div class="reset-button" onclick={resetDate2}>
                                              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                              <path d="M11 20.95C8.98333 20.7 7.3125 19.8208 5.9875 18.3125C4.6625 16.8042 4 15.0333 4 13C4 11.9 4.21667 10.8458 4.65 9.8375C5.08333 8.82917 5.7 7.95 6.5 7.2L7.925 8.625C7.29167 9.19167 6.8125 9.85 6.4875 10.6C6.1625 11.35 6 12.15 6 13C6 14.4667 6.46667 15.7625 7.4 16.8875C8.33333 18.0125 9.53333 18.7 11 18.95V20.95ZM13 20.95V18.95C14.45 18.6833 15.6458 17.9917 16.5875 16.875C17.5292 15.7583 18 14.4667 18 13C18 11.3333 17.4167 9.91667 16.25 8.75C15.0833 7.58333 13.6667 7 12 7H11.925L13.025 8.1L11.625 9.5L8.125 6L11.625 2.5L13.025 3.9L11.925 5H12C14.2333 5 16.125 5.775 17.675 7.325C19.225 8.875 20 10.7667 20 13C20 15.0167 19.3375 16.7792 18.0125 18.2875C16.6875 19.7958 15.0167 20.6833 13 20.95Z" fill="#262626"/>
                                              </svg>
                                              <p>リセット</p>
                                          </div>
                                          <button class="yes-button" onclick={confirmDate2} disabled={selectedDatefun}>完了</button>
                                      </div>
                                  </div>
                              </template>
                          </div>
                        </template>
                      </div>
                    </div>
                  </div>
                  <div class="edit-right-div">
                    <div class="edit-content-left">
                      <div class="edit-label">
                        入庫先区分
                        <span class="reqtxt">必須</span>
                      </div>
                      <div class="inputs-edit-fact">
                        <input type="text" class="InputsSchedule icon" onclick={handlefactoryTypeChange} autocomplete="off"
                        placeholder="選択してください"
                        value={selectedPicklistfactoryType} name="factoryType" img src={dropdown}
                        readonly>
                        <template if:true={showlistfactoryType}>
                          <div class="listScheduleType lists2 no-scroll" name="factoryType"
                              >
                              <template for:each={serviceFactoryOptions} for:item="fact">
                                  <div key={fact.value} class="list-item" onclick={handlePickListChangefactory}
                                      data-namee="scheduleFact" data-idd={fact.value}>
                                      <p data-namee="scheduleFact" data-idd={fact.value}>
                                          {fact.label}
                                      </p>
                                  </div>
                              </template>
                          </div>
                      </template>
                      </div>
                    </div>
                    <div class="edit-content-left">
                      <div class="edit-label">
                        入庫先
                        <span class="greytxt">任意</span>
                      </div>
                      <div class="inputs-edit">
                        <template if:true={isOwned}>
                          <input type="text" class="InputsSchedulebranch icon" onclick={handleBranchListclick} value={destinationAccBranch} placeholder="選択してください" readonly>
                          <template if:true={showBranchlist}>
                            <div class="listScheduleTypebranch lists2 no-scroll" name="ScheduleType" onclick={handleInsideClick}>
                                <div class="scrollbar2">
                                    <div class="list-item" onclick={handleNone}>選択しない</div>
                                    <template for:each={branchList} for:item="bran">
                                        <div key={bran.id} class="list-item" onclick={handlebranchNameClick}
                                            data-namee={bran.name} data-idd={bran.id}>
                                            <p data-namee={bran.name} data-idd={bran.id}>
                                                {bran.name}
                                            </p>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </template>
                        </template>
                        <template if:false={isOwned}>
                          <div class="search-container">
                            <span class="svg-container2">
                              <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
                                  <path d="M16.2559 14.2549H15.4659L15.1859 13.9849C16.1659 12.8449 16.7559 11.3649 16.7559 9.75488C16.7559 6.16488 13.8459 3.25488 10.2559 3.25488C6.66586 3.25488 3.75586 6.16488 3.75586 9.75488C3.75586 13.3449 6.66586 16.2549 10.2559 16.2549C11.8659 16.2549 13.3459 15.6649 14.4859 14.6849L14.7559 14.9649V15.7549L19.7559 20.7449L21.2459 19.2549L16.2559 14.2549ZM10.2559 14.2549C7.76586 14.2549 5.75586 12.2449 5.75586 9.75488C5.75586 7.26488 7.76586 5.25488 10.2559 5.25488C12.7459 5.25488 14.7559 7.26488 14.7559 9.75488C14.7559 12.2449 12.7459 14.2549 10.2559 14.2549Z" fill="#262626"/>
                                </svg>
                            </span>
                            <template if:true={divforAccountAddress}>
                              <div class="selected-account">
                                <span class="ellipsess ellipsess-margin">
                                    {destinationAccBranch}
                                </span>
                                <span class="address-bottom">
                                    {destPostcode} {destMunc} {destPref} {destStreet}
                                </span>
                            </div>
                            </template>
                            <template if:false={divforAccountAddress}>
                              <input type="text" placeholder="会社名を検索" class="InputsScheduleSearch" value={searchKey} oninput={handleSearchAccount} onkeydown={handleKeyDown} readonly={readonlyaccount}>
                            </template>
                            <template if:true={searchKeyPresent}>
                              <span class="svg-container"  onclick={handleRemovesearchKey}>
                                  <svg
                                  width="24"
                                  height="24"
                                  viewBox="0 0 24 24"
                                  fill="none"
                                  xmlns="http://www.w3.org/2000/svg"
                                  onclick={handleRemovesearchKey}
                                >
                                  <path
                                    d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"
                                    fill="black"
                                  />
                                </svg>
                              </span>
                          </template>
                          </div>
                          <div class={searchlistClass}>
                            <div class="searchlist">
                                <template if:true={showMorelist}>
                                    <div class="show-more" onclick={handleShowMoreCLick}>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
                                            <path d="M16.2559 14.2549H15.4659L15.1859 13.9849C16.1659 12.8449 16.7559 11.3649 16.7559 9.75488C16.7559 6.16488 13.8459 3.25488 10.2559 3.25488C6.66586 3.25488 3.75586 6.16488 3.75586 9.75488C3.75586 13.3449 6.66586 16.2549 10.2559 16.2549C11.8659 16.2549 13.3459 15.6649 14.4859 14.6849L14.7559 14.9649V15.7549L19.7559 20.7449L21.2459 19.2549L16.2559 14.2549ZM10.2559 14.2549C7.76586 14.2549 5.75586 12.2449 5.75586 9.75488C5.75586 7.26488 7.76586 5.25488 10.2559 5.25488C12.7459 5.25488 14.7559 7.26488 14.7559 9.75488C14.7559 12.2449 12.7459 14.2549 10.2559 14.2549Z" fill="#262626"/>
                                        </svg>
                                        <p class="ellipsess"> {searchKey} の結果をさらに表示 </p>
                                    </div>
                                </template>
                                <template if:true={searchArrayaccount}>
                                    <template for:each={searchArrayaccount} for:item="account">
                                        <div key={account.id} onclick={handleAccountClick} data-namee={account.name} data-postal={account.shippingAdd.PostalCode} data-mun={account.shippingAdd.municipality} data-prefect={account.shippingAdd.prefect} data-street={account.shippingAdd.street} data-idd={account.id} class="searchItems">
                                            <p onclick={handleAccountClick} data-namee={account.name} data-postal={account.shippingAdd.PostalCode} data-mun={account.shippingAdd.municipality} data-prefect={account.shippingAdd.prefect} data-idd={account.id} class="ellipsess">{account.name}</p>
                                            <div style="color: #7B7B7B;" class="ellipsess" data-namee={account.name} data-postal={account.shippingAdd.PostalCode} data-mun={account.shippingAdd.municipality} data-prefect={account.shippingAdd.prefect} data-idd={account.id}>
                                                {account.shippingAdd.PostalCode} {account.shippingAdd.municipality} {account.shippingAdd.prefect}
                                            </div> 
                                        </div>
                                    </template>
                                </template>
                            </div>
                          </div>
    
                        </template>
                      </div>
                    </div>
                    <div class="edit-content-left">
                      <div class="edit-label">
                        入庫先
                        <span class="greytxt">任意</span>
                      </div>
                      <div class="inputs-edit">
                        <input type="text" class="InputsScheduleNosearch" value={destinationNosearch} onchange={handlenoSearch} oninput={handlevalchange} placeholder="入庫先を入力してください" maxlength="30">
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <div class="edit-buttons">
                    <button class="cancel-edit" onclick={backfromEdittop}>キャンセル</button>
                    <button class="save-edit" onclick={handlesaveedittop} disabled={isDisabledPlan}>保存</button>
                  </div>
                </div>
              </div>
            </template>
            <template if:true={ifHistory}>
              <div style="width: 100%;">
                <div style="display: flex; width: 100%;">
                  <div class="edit-left-div">
                    <div class="edit-content-left">
                      <div class="edit-label">
                        整備種別
                        <span class="reqtxt">必須</span>
                      </div>
                      <div class="inputs-edit">
                        <input type="text" class="InputsSchedule icon" onclick={handleScheduleTypeChange} autocomplete="off"
                        placeholder="選択してください"
                        value={selectedPicklistScheduleType} name="ScheduleType"
                        readonly>
                        <template if:true={showlistScheduleType}>
                          <div class="listScheduleType lists2 no-scroll" name="ScheduleType"
                              onclick={handleInsideClick}>
                              <template for:each={serviceTypeOptions} for:item="sch">
                                  <div key={sch.value} class="list-item" onclick={handlePickListChange}
                                      data-namee="ScheduleType" data-idd={sch.value}>
                                      <p data-namee="ScheduleType" data-idd={sch.value}>
                                          {sch.label}
                                      </p>
                                  </div>
                              </template>
                          </div>
                        </template>
                      </div>
                    </div>
                    <div class="edit-content-left">
                      <div class="edit-label">
                        実施日
                        <span class="reqtxt">必須</span>
                      </div>
                      <div class="inputs-edit">
                        <!-- <input type="text" class="InputsSchedule" value={maintenanceDetails.Implementation_Date__c}> -->
                        <template if:true={showImplementation}>
                          <div class="calendar-div">
                              <!-- <div class="calendarType">
                                  実施日
                                  <span class="reqtxt">必須</span>
                              </div> -->
                              <div class="icon-calendar">
                                  <input class="custom-input" value={displayDate} readonly onclick={openCalendarImplementation} placeholder="選択してください" />
                                  <span class="svg-container-cal" onclick={openCalendarImplementation}>
                                      <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg" onclick={openCalendarImplementation}>
                                          <path d="M19.5 4H18.5V2H16.5V4H8.5V2H6.5V4H5.5C4.39 4 3.51 4.9 3.51 6L3.5 20C3.5 21.1 4.39 22 5.5 22H19.5C20.6 22 21.5 21.1 21.5 20V6C21.5 4.9 20.6 4 19.5 4ZM19.5 20H5.5V10H19.5V20ZM19.5 8H5.5V6H19.5V8ZM9.5 14H7.5V12H9.5V14ZM13.5 14H11.5V12H13.5V14ZM17.5 14H15.5V12H17.5V14ZM9.5 18H7.5V16H9.5V18ZM13.5 18H11.5V16H13.5V18ZM17.5 18H15.5V16H17.5V18Z" fill="#7B7B7B"/>
                                      </svg>
                                  </span>
                              </div>
                              <template if:true={isCalendarOpen2}>
                                  <div class="calendar-popup" onclick={handleInsideClick}>
                                      <div class="calendar-header">
                                          <div>
                                              <button class="button-disable">
                                                  <lightning-icon 
                                                      class="nav-button prev-button" 
                                                      icon-name="utility:chevronleft" 
                                                      alternative-text="Previous Month" 
                                                      onclick={goToPreviousMonth2}
                                                      size="xx-small">
                                                  </lightning-icon>
                                              </button>
                                              <span class="calendar-month">{monthLabel2}</span>
                                              <button class="button-disable" disabled={isNextMonthDisabled2}>
                                                  <lightning-icon 
                                                      class="nav-button next-button" 
                                                      icon-name="utility:chevronright" 
                                                      alternative-text="Next Month" 
                                                      onclick={goToNextMonth2}
                                                      size="xx-small">
                                                  </lightning-icon>
                                              </button>
                                          </div>
                                          <div>
                                              <span class="calendar-year">{era2} {year2}</span>
                                          </div>
                                      </div>
          
                                      <div class="calendar-days-row">
                                          <div class="day-label">日</div>
                                          <div class="day-label">月</div>
                                          <div class="day-label">火</div>
                                          <div class="day-label">水</div>
                                          <div class="day-label">木</div>
                                          <div class="day-label">金</div>
                                          <div class="day-label">土</div>
                                      </div>
          
                                      <div class="calendar-dates-grid">
                                          <template for:each={calendarDates2} for:item="day">
                                              <button key={day.value} class={day.className} data-day={day.value} onclick={selectDate2} disabled={day.isDisabled}>
                                                  {day.value}
                                              </button>
                                          </template>
                                      </div>
          
                                      <div class="calendar-footer">
                                          <div class="reset-button" onclick={resetDate2}>
                                              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                              <path d="M11 20.95C8.98333 20.7 7.3125 19.8208 5.9875 18.3125C4.6625 16.8042 4 15.0333 4 13C4 11.9 4.21667 10.8458 4.65 9.8375C5.08333 8.82917 5.7 7.95 6.5 7.2L7.925 8.625C7.29167 9.19167 6.8125 9.85 6.4875 10.6C6.1625 11.35 6 12.15 6 13C6 14.4667 6.46667 15.7625 7.4 16.8875C8.33333 18.0125 9.53333 18.7 11 18.95V20.95ZM13 20.95V18.95C14.45 18.6833 15.6458 17.9917 16.5875 16.875C17.5292 15.7583 18 14.4667 18 13C18 11.3333 17.4167 9.91667 16.25 8.75C15.0833 7.58333 13.6667 7 12 7H11.925L13.025 8.1L11.625 9.5L8.125 6L11.625 2.5L13.025 3.9L11.925 5H12C14.2333 5 16.125 5.775 17.675 7.325C19.225 8.875 20 10.7667 20 13C20 15.0167 19.3375 16.7792 18.0125 18.2875C16.6875 19.7958 15.0167 20.6833 13 20.95Z" fill="#262626"/>
                                              </svg>
                                              <p>リセット</p>
                                          </div>
                                          <button class="yes-button" onclick={confirmDate2} disabled={selectedDatefun}>完了</button>
                                      </div>
                                  </div>
                              </template>
                          </div>
                        </template>
                      </div>
                    </div>
                    <div class="edit-content-left">
                      <div class="edit-label">
                        入庫先
                        <span class="greytxt">任意</span>
                      </div>
                      <div class="inputs-edit">
                        <input type="text" class="InputsScheduleNosearch" value={destinationNosearch} onchange={handlenoSearch} oninput={handlevalchange} placeholder="入庫先を入力してください" maxlength="30">
                      </div>
                    </div>
                  </div>
                  <div class="edit-right-div">
                    <div class="edit-content-left">
                      <div class="edit-label">
                        入庫先区分
                        <span class="reqtxt">必須</span>
                      </div>
                      <div class="inputs-edit-fact">
                        <input type="text" class="InputsSchedule icon" onclick={handlefactoryTypeChange} autocomplete="off"
                        placeholder="選択してください"
                        value={selectedPicklistfactoryType} name="factoryType" img src={dropdown}
                        readonly>
                        <template if:true={showlistfactoryType}>
                          <div class="listScheduleType lists2 no-scroll" name="factoryType"
                              >
                              <template for:each={serviceFactoryOptions} for:item="fact">
                                  <div key={fact.value} class="list-item" onclick={handlePickListChangefactory}
                                      data-namee="scheduleFact" data-idd={fact.value}>
                                      <p data-namee="scheduleFact" data-idd={fact.value}>
                                          {fact.label}
                                      </p>
                                  </div>
                              </template>
                          </div>
                      </template>
                      </div>
                    </div>
                    <div class="edit-content-left">
                      <div class="edit-label">
                        入庫先
                        <span class="greytxt">任意</span>
                      </div>
                      <div class="inputs-edit">
                        <template if:true={isOwned}>
                          <input type="text" class="InputsSchedulebranch icon" onclick={handleBranchListclick} value={destinationAccBranch} placeholder="選択してください" readonly>
                          <template if:true={showBranchlist}>
                            <div class="listScheduleTypebranch lists2 no-scroll" name="ScheduleType" onclick={handleInsideClick}>
                                <div class="scrollbar2">
                                    <div class="list-item" onclick={handleNone}>選択しない</div>
                                    <template for:each={branchList} for:item="bran">
                                        <div key={bran.id} class="list-item" onclick={handlebranchNameClick}
                                            data-namee={bran.name} data-idd={bran.id}>
                                            <p data-namee={bran.name} data-idd={bran.id}>
                                                {bran.name}
                                            </p>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </template>
                        </template>
                        <template if:false={isOwned}>
                          <div class="search-container">
                            <span class="svg-container2">
                              <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
                                  <path d="M16.2559 14.2549H15.4659L15.1859 13.9849C16.1659 12.8449 16.7559 11.3649 16.7559 9.75488C16.7559 6.16488 13.8459 3.25488 10.2559 3.25488C6.66586 3.25488 3.75586 6.16488 3.75586 9.75488C3.75586 13.3449 6.66586 16.2549 10.2559 16.2549C11.8659 16.2549 13.3459 15.6649 14.4859 14.6849L14.7559 14.9649V15.7549L19.7559 20.7449L21.2459 19.2549L16.2559 14.2549ZM10.2559 14.2549C7.76586 14.2549 5.75586 12.2449 5.75586 9.75488C5.75586 7.26488 7.76586 5.25488 10.2559 5.25488C12.7459 5.25488 14.7559 7.26488 14.7559 9.75488C14.7559 12.2449 12.7459 14.2549 10.2559 14.2549Z" fill="#262626"/>
                                </svg>
                            </span>
                            <template if:true={divforAccountAddress}>
                              <div class="selected-account">
                                <span class="ellipsess">
                                    {destinationAccBranch}
                                </span>
                                <span class="address-bottom">
                                    {destPostcode} {destMunc} {destPref} {destStreet}
                                </span>
                            </div>
                            </template>
                            <template if:false={divforAccountAddress}>
                              <input type="text" placeholder="会社名を検索" class="InputsScheduleSearch" value={searchKey} oninput={handleSearchAccount} onkeydown={handleKeyDown} readonly={readonlyaccount}>
                            </template>
                            <template if:true={searchKeyPresent}>
                              <span class="svg-container"  onclick={handleRemovesearchKey}>
                                  <svg
                                  width="24"
                                  height="24"
                                  viewBox="0 0 24 24"
                                  fill="none"
                                  xmlns="http://www.w3.org/2000/svg"
                                  onclick={handleRemovesearchKey}
                                >
                                  <path
                                    d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"
                                    fill="black"
                                  />
                                </svg>
                              </span>
                   
                          </template>
                          </div>
                          <div class={searchlistClass}>
                            <div class="searchlist">
                                <template if:true={showMorelist}>
                                    <div class="show-more" onclick={handleShowMoreCLick}>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
                                            <path d="M16.2559 14.2549H15.4659L15.1859 13.9849C16.1659 12.8449 16.7559 11.3649 16.7559 9.75488C16.7559 6.16488 13.8459 3.25488 10.2559 3.25488C6.66586 3.25488 3.75586 6.16488 3.75586 9.75488C3.75586 13.3449 6.66586 16.2549 10.2559 16.2549C11.8659 16.2549 13.3459 15.6649 14.4859 14.6849L14.7559 14.9649V15.7549L19.7559 20.7449L21.2459 19.2549L16.2559 14.2549ZM10.2559 14.2549C7.76586 14.2549 5.75586 12.2449 5.75586 9.75488C5.75586 7.26488 7.76586 5.25488 10.2559 5.25488C12.7459 5.25488 14.7559 7.26488 14.7559 9.75488C14.7559 12.2449 12.7459 14.2549 10.2559 14.2549Z" fill="#262626"/>
                                        </svg>
                                        <p class="ellipsess"> {searchKey} の結果をさらに表示 </p>
                                    </div>
                                </template>
                                <template if:true={searchArrayaccount}>
                                    <template for:each={searchArrayaccount} for:item="account">
                                        <div key={account.id} onclick={handleAccountClick} data-namee={account.name} data-postal={account.shippingAdd.PostalCode} data-mun={account.shippingAdd.municipality} data-prefect={account.shippingAdd.prefect} data-street={account.shippingAdd.street} data-idd={account.id} class="searchItems">
                                            <p onclick={handleAccountClick} data-namee={account.name} data-postal={account.shippingAdd.PostalCode} data-mun={account.shippingAdd.municipality} data-prefect={account.shippingAdd.prefect} data-idd={account.id} class="ellipsess">{account.name}</p>
                                            <div style="color: #7B7B7B;" class="ellipsess" data-namee={account.name} data-postal={account.shippingAdd.PostalCode} data-mun={account.shippingAdd.municipality} data-prefect={account.shippingAdd.prefect} data-idd={account.id}>
                                                {account.shippingAdd.PostalCode} {account.shippingAdd.municipality} {account.shippingAdd.prefect}
                                            </div> 
                                        </div>
                                    </template>
                                </template>
                            </div>
                          </div>
    
                        </template>
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <div class="edit-buttons">
                    <button class="cancel-edit" onclick={backfromEdittop}>キャンセル</button>
                    <button class="save-edit" onclick={handlesaveedittop} disabled={isDisabledHistory}>保存</button>
                  </div>
                </div>
              </div>
            </template>
          </div>

        </template>
      </div>

      <div class="detail-second-container">
        <div class="first-box-header">
          <p class="first-box-header-text">実施内容メモ</p>
          <template if:false={isEditBottomInfo}>
            <svg
              class="first-box-header-icon"
              width="18"
              height="16"
              viewBox="0 0 18 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              onclick={handleEditRichtext}
            >
              <path d="M12 12L8 16H18V12H12Z" fill="#262626" />
              <path
                d="M9.06 3.19L0 12.25V16H3.75L12.81 6.94L9.06 3.19ZM2.92 14H2V13.08L9.06 6.02L9.98 6.94L2.92 14Z"
                fill="#262626"
              />
              <path
                d="M15.71 4.04C16.1 3.65 16.1 3.02 15.71 2.63L13.37 0.29C13.17 0.09 12.92 0 12.66 0C12.41 0 12.15 0.1 11.96 0.29L10.13 2.12L13.88 5.87L15.71 4.04Z"
                fill="#262626"
              />
            </svg>
          </template>
        </div>
        <template if:false={isEditBottomInfo}>
          <div class="second-container-content">
            <div class="second-container-content-item1">
              <lightning-formatted-rich-text
                value={maintenanceDetails.Description_Rich_Text__c}
              ></lightning-formatted-rich-text>
            </div>
            <div class="second-container-content-item2">
              <template
                for:each={maintenanceDetails.ImageUrls}
                for:item="elm"
                if:true={showImages}
              >
                <div class="content-item2-image" key={elm.fileName}>
                  <img src={elm.fileURL} alt="Unable to Load the Image!" />
                  <svg
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    class="content-item2-logo"
                    data-fileurl={elm.fileURL}
                    onclick={handleToggleZoomInImage}
                  >
                    <g id="zoom_in" data-fileurl={elm.fileURL}>
                      <path
                        id="Vector"
                        d="M15.7539 14.2881H14.9639L14.6839 14.0181C15.6639 12.8781 16.2539 11.3981 16.2539 9.78809C16.2539 6.19809 13.3439 3.28809 9.75391 3.28809C6.16391 3.28809 3.25391 6.19809 3.25391 9.78809C3.25391 13.3781 6.16391 16.2881 9.75391 16.2881C11.3639 16.2881 12.8439 15.6981 13.9839 14.7181L14.2539 14.9981V15.7881L19.2539 20.7781L20.7439 19.2881L15.7539 14.2881ZM9.75391 14.2881C7.26391 14.2881 5.25391 12.2781 5.25391 9.78809C5.25391 7.29809 7.26391 5.28809 9.75391 5.28809C12.2439 5.28809 14.2539 7.29809 14.2539 9.78809C14.2539 12.2781 12.2439 14.2881 9.75391 14.2881ZM10.2539 7.28809H9.25391V9.28809H7.25391V10.2881H9.25391V12.2881H10.2539V10.2881H12.2539V9.28809H10.2539V7.28809Z"
                        fill="black"
                        data-fileurl={elm.fileURL}
                      />
                    </g>
                  </svg>
  
                  <div></div>
                </div>
              </template>
            </div>
          </div>
          <div class="first-box-footer">
            <div class="first-box-footer-item">
              <div>最終更新者</div>
              <div>{maintenanceDetails.LastModifiedBy}</div>
            </div>
            <div class="first-box-footer-item">
              <div>最終更新日</div>
              <div>{maintenanceDetails.LastModifiedDate}</div>
            </div>
          </div>
        </template>
        <template if:true={isEditBottomInfo}>
          <lightning-input-rich-text formats={allowedFormats} value={richTextVal} class="custom-rich-text"
                onchange={handleRichTextChange} style="--lwc-brandAccessible: #e10202; --lwc-brandAccessibleActive: #E10202; --slds-g-color-border-base-4: #d9d9d9; --slds-g-shadow-outset-focus-1: white;--slds-g-shadow-outline-focus-1: white;width: 100%; ">
                <lightning-rich-text-toolbar-button-group>
                    <lightning-rich-text-toolbar-button 
                        icon-name="utility:insert_photo"
                        label="Insert Image"
                        onclick={handleInsertImage}>
                    </lightning-rich-text-toolbar-button>
                </lightning-rich-text-toolbar-button-group>
            </lightning-input-rich-text>
            <div class="upload-rich-cont">
              <div class="image-uploader-container">
                <div class="image-uploader">
                    <svg width="47" height="32" viewBox="0 0 47 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.9366 31.0938C10.0509 30.9234 7.30895 30.056 5.1023 28.6155C2.89565 27.1749 1.33714 25.235 0.6493 23.0726C-0.0385357 20.9101 0.179476 18.6358 1.2722 16.5744C2.36493 14.513 4.27651 12.7698 6.73397 11.5938C7.25687 8.4577 9.24757 5.57562 12.3335 3.48693C15.4195 1.39825 19.3892 0.246094 23.4998 0.246094C27.6104 0.246094 31.5801 1.39825 34.666 3.48693C37.752 5.57562 39.7427 8.4577 40.2656 11.5938C42.7231 12.7698 44.6346 14.513 45.7274 16.5744C46.8201 18.6358 47.0381 20.9101 46.3503 23.0726C45.6624 25.235 44.1039 27.1749 41.8973 28.6155C39.6906 30.056 36.9487 30.9234 34.0629 31.0938V31.1247H12.9366V31.0938ZM25.6124 18.1247H31.9503L23.4998 9.99968L15.0493 18.1247H21.3872V24.6247H25.6124V18.1247Z" fill="#E10202"/>
                    </svg>
                    <p >ここにファイルをドラッグしてください</p>  
                    <input type="file" 
                      accept=".jpg,.jpeg,.png"
                      multiple 
                      title=" "
                      onchange={handleFilesChange}
                      class="image-uploader-input"/>
                </div>
                <div class="guidelines-img">
                  <div class="precautions">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="23" viewBox="0 0 22 23" fill="none">
                      <path d="M10.0859 13.7005C10.0859 13.1943 10.4963 12.7839 11.0026 12.7839C11.5089 12.7839 11.9193 13.1943 11.9193 13.7005V14.7005C11.9193 15.2068 11.5089 15.6172 11.0026 15.6172C10.4963 15.6172 10.0859 15.2068 10.0859 14.7005V13.7005ZM10.0859 7.36719C10.0859 6.86093 10.4963 6.45052 11.0026 6.45052C11.5089 6.45052 11.9193 6.86093 11.9193 7.36719V11.0339C11.9193 11.5401 11.5089 11.9505 11.0026 11.9505C10.4963 11.9505 10.0859 11.5401 10.0859 11.0339V7.36719ZM10.9934 1.86719C5.93344 1.86719 1.83594 5.97385 1.83594 11.0339C1.83594 16.0939 5.93344 20.2005 10.9934 20.2005C16.0626 20.2005 20.1693 16.0939 20.1693 11.0339C20.1693 5.97385 16.0626 1.86719 10.9934 1.86719ZM11.0026 18.3672C6.95094 18.3672 3.66927 15.0855 3.66927 11.0339C3.66927 6.98219 6.95094 3.70052 11.0026 3.70052C15.0543 3.70052 18.3359 6.98219 18.3359 11.0339C18.3359 15.0855 15.0543 18.3672 11.0026 18.3672Z" fill="#E10202"/>
                    </svg>
                    <p>注意事項</p>
                  </div>
                  <ul class="list-precautions">
                    <li>ファイル形式：.jpg/.jpeg/.png</li>
                    <li>一つのファイルが10MBを超えないように</li>
                    <li>最大10枚</li>
                  </ul>
                </div>
              </div>
              <div class="container-all-img">
                <template
                    for:each={maintenanceDetails.ImageUrls}
                    for:item="elm"
                    if:true={showImages}
                  >
                    <div class="content-edit-image" key={elm.fileName}>
                      <img src={elm.fileURL} alt="Unable to Load the Image!" />
                      <div class="remove-main">
                        <p class="ellipsess" style="font-size: 10px; color: white;" title={elm.fileName}>{elm.fileName}</p>
                        <button class="remove-button"
                                onclick={handleRemoveImage} 
                                data-id={elm.recordId}>
                            &times;
                        </button>
                     </div>
                      <div></div>
                    </div>
                  </template>
              </div>
            </div>
            <div class="edit-buttons">
              <button class="cancel-edit" onclick={backfromEditbottom}>キャンセル</button>
              <button class="save-edit" onclick={handlesaveeditbottom}>保存</button>
            </div>
        </template>
      </div>


        <template if:true={ifHistory}>
          <div class="detail-footer" 
          onclick={deletehistory}>
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M19 6.9432L17.59 5.5332L12 11.1232L6.41 5.5332L5 6.9432L10.59 12.5332L5 18.1232L6.41 19.5332L12 13.9432L17.59 19.5332L19 18.1232L13.41 12.5332L19 6.9432Z"
                fill="#262626"
              />
            </svg>
           予定削除
          </div>
        </template>
        <template if:false={ifHistory}>
          <div class="detail-footer" onclick={cancelPlan}>
            <svg
            width="24"
            height="25"
            viewBox="0 0 24 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            
          >
            <path
              d="M19 6.9432L17.59 5.5332L12 11.1232L6.41 5.5332L5 6.9432L10.59 12.5332L5 18.1232L6.41 19.5332L12 13.9432L17.59 19.5332L19 18.1232L13.41 12.5332L19 6.9432Z"
              fill="#262626"
            />
          </svg>
            予定キャンセル
          </div>
        </template>
    </div>
    <div
      if:true={showDetailPageLoader}
      style="
        position: absolute;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
      "
    >
      <lightning-spinner
        alternative-text="Loading"
        size="small"
      ></lightning-spinner>
    </div>

    <div class="modal-background-last" if:true={showZoomInImageModal}>
      <div class="modal-window-small">
        <div class="zoomInImageContainer">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="zoomInImageCrossLogo"
            onclick={handleToggleZoomInImage}
          >
            <path
              d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"
              fill="black"
            />
          </svg>
          <img src={currentImageUrl} alt="Unable To Open The Image!" />
          <!-- <div class="zoomInRangeSlider">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g id="zoom_out">
                <path
                  id="Vectore"
                  d="M15.7539 14.2559H14.9639L14.6839 13.9859C15.6639 12.8459 16.2539 11.3659 16.2539 9.75586C16.2539 6.16586 13.3439 3.25586 9.75391 3.25586C6.16391 3.25586 3.25391 6.16586 3.25391 9.75586C3.25391 13.3459 6.16391 16.2559 9.75391 16.2559C11.3639 16.2559 12.8439 15.6659 13.9839 14.6859L14.2539 14.9659V15.7559L19.2539 20.7459L20.7439 19.2559L15.7539 14.2559ZM9.75391 14.2559C7.26391 14.2559 5.25391 12.2459 5.25391 9.75586C5.25391 7.26586 7.26391 5.25586 9.75391 5.25586C12.2439 5.25586 14.2539 7.26586 14.2539 9.75586C14.2539 12.2459 12.2439 14.2559 9.75391 14.2559ZM7.25391 9.25586H12.2539V10.2559H7.25391V9.25586Z"
                  fill="black"
                />
              </g>
            </svg>
            <input type="range" class="custom-range" />
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g id="zoom_ins">
                <path
                  id="Vectors"
                  d="M15.7539 14.2881H14.9639L14.6839 14.0181C15.6639 12.8781 16.2539 11.3981 16.2539 9.78809C16.2539 6.19809 13.3439 3.28809 9.75391 3.28809C6.16391 3.28809 3.25391 6.19809 3.25391 9.78809C3.25391 13.3781 6.16391 16.2881 9.75391 16.2881C11.3639 16.2881 12.8439 15.6981 13.9839 14.7181L14.2539 14.9981V15.7881L19.2539 20.7781L20.7439 19.2881L15.7539 14.2881ZM9.75391 14.2881C7.26391 14.2881 5.25391 12.2781 5.25391 9.78809C5.25391 7.29809 7.26391 5.28809 9.75391 5.28809C12.2439 5.28809 14.2539 7.29809 14.2539 9.78809C14.2539 12.2781 12.2439 14.2881 9.75391 14.2881ZM10.2539 7.28809H9.25391V9.28809H7.25391V10.2881H9.25391V12.2881H10.2539V10.2881H12.2539V9.28809H10.2539V7.28809Z"
                  fill="black"
                />
              </g>
            </svg>
          </div> -->
        </div>
      </div>
    </div>
  </template>
  <template if:true={showBackEditmodal}>
    <div class="modal-background-last2">
        <div class="modal-window-small2">
            <div class="warning-modal2">
                <p class="warntxt">まだ作業中ですが、本当にこの画面から離れ</p>
                   <p class="warntxt more">ますか？</p>
            </div>
            <div class="buttons-small">
                <button class="cancel-btn1" onclick={handleCancelNo}>
                    いいえ
                </button>
                <button class="yes-btn1" onclick={handleCancelYes}>
                  はい
                </button>
            </div>
        </div>
    </div>
  </template>
  <template if:true={showMore}>
  <div class="modal-background-last2">
      <div class="modal-showmore">
          <div class="warning-showmore">
              <p class="header-search-modal">検索</p>
              <input type="text" class="InputsScheduleTypesshowmore" value={searchKey} oninput={handlesearchAccount2} placeholder="会社名を検索">
              <span class="svg-container3">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="21" viewBox="0 0 25 24" fill="none">
                      <path d="M16.2559 14.2549H15.4659L15.1859 13.9849C16.1659 12.8449 16.7559 11.3649 16.7559 9.75488C16.7559 6.16488 13.8459 3.25488 10.2559 3.25488C6.66586 3.25488 3.75586 6.16488 3.75586 9.75488C3.75586 13.3449 6.66586 16.2549 10.2559 16.2549C11.8659 16.2549 13.3459 15.6649 14.4859 14.6849L14.7559 14.9649V15.7549L19.7559 20.7449L21.2459 19.2549L16.2559 14.2549ZM10.2559 14.2549C7.76586 14.2549 5.75586 12.2449 5.75586 9.75488C5.75586 7.26488 7.76586 5.25488 10.2559 5.25488C12.7459 5.25488 14.7559 7.26488 14.7559 9.75488C14.7559 12.2449 12.7459 14.2549 10.2559 14.2549Z" fill="#262626"/>
                    </svg>
              </span>
              <div class="paddingscrollshow">
                  <div class="showmoreAccount">
                      <template if:true={showmorelength}>
                          <template for:each={showmoreArray} for:item="item">
                                  <div key={item.id} onclick={handleAccountClick} data-namee={item.name} data-idd={item.id} data-postal={item.shippingAdd.PostalCode} data-mun={item.shippingAdd.municipality} data-prefect={item.shippingAdd.prefect} class="searchItemsShowmore">
                                      <div class="showmoreName" data-namee={item.name} onclick={handleAccountClick} data-idd={item.id} data-postal={item.shippingAdd.PostalCode} data-mun={item.shippingAdd.municipality} data-prefect={item.shippingAdd.prefect}>{item.name}</div>
                                      <div class="showmoreAddress" data-namee={item.name} onclick={handleAccountClick} data-idd={item.id} data-postal={item.shippingAdd.PostalCode} data-mun={item.shippingAdd.municipality} data-prefect={item.shippingAdd.prefect}>
                                          {item.shippingAdd.PostalCode} {item.shippingAdd.municipality} {item.shippingAdd.prefect}
                                      </div> 
                                  </div>
                          </template>
                      </template>
                  </div>
                  <template if:false={showmorelength}>
                      <div class="nosearchImg">
                          <img src={nosearch} alt="No Search">
                          <p>結果が見つかりませんでした</p>
                      </div>
                  </template>
              </div>
          </div>
          <div class="buttons-small-search">
              <button class="cancel-btn1" onclick={handlesearchCancel}>
                  キャンセル
              </button>
          </div>
      </div>
  </div>
  </template>
  <template if:true={multipleDest}>
    <div class="modal-background-last2">
        <div class="modal-window-small2">
            <div class="warning-modal2">
                <p class="warntxt">複数の入庫先が入力されています。</p>
                   <p class="warntxt more">いずれかを削除してください。</p>
            </div>
            <div class="buttons-small">
                <button class="save-edit" onclick={handleOk}>はい
                </button>
            </div>
        </div>
    </div>
</template>
<template if:true={cancelplanModal}>
  <div class="modal-background-last2">
      <div class="modal-window-small2">
          <div class="warning-modal2">
              <p class="warntxt more">本当にキャンセルしますか？</p>
          </div>
          <div class="buttons-small">
            <button class="cancel-btn1" onclick={handledeleteplanNo}>
                いいえ
            </button>
            <button class="yes-btn1" onclick={handledeleteplanYes}>
              はい
            </button>
        </div>
      </div>
  </div>
</template>
<template if:true={showModalRefresh}>
  <div class="modal-background-last2">
    <div class="modal-window-loader">
      <p class="warntxt">この予定はキャンセルしました。</p>
    </div>
  </div>
</template>
<template if:true={deleteHistoryModal}>
  <div class="modal-background-last2">
      <div class="modal-window-small2">
          <div class="warning-modal2">
              <p class="warntxt more">本当に削除しますか？</p>
          </div>
          <div class="buttons-small">
            <button class="cancel-btn1" onclick={handledeleteHistoryNo}>
                いいえ
            </button>
            <button class="yes-btn1" onclick={handledeleteHistoryYes}>
              はい
            </button>
        </div>
      </div>
  </div>
</template>
<template if:true={showModalRefreshDelete}>
  <div class="modal-background-last2">
    <div class="modal-window-loader">
      <p class="warntxt">この履歴は削除しました。</p>
    </div>
  </div>
</template>
</template>