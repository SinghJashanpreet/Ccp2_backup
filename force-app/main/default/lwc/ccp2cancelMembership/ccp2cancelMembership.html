<template>

    <template if:true={showWithdraw}>
      <div class="half-bottom2">
          <div class="half bottom2">
              <div class="withdraw-div">
                  <button class="withdraw-btn-side" onclick={navigateToHome}>トップに戻る</button>
                  <button class="withdraw-btn" onclick={handlewithdraw}>{labels.CCP2_Withdraw}</button>
              </div>
          </div>
      </div>
    </template>
    <!-- <template if:true={hidebasicInfo}>
        <c-ccp-_-user-profile></c-ccp-_-user-profile>
    </template> -->

    <!-- <template if:true={showconfModal}>
        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open" style="background-color: #ffffff0d;">
            <div class="slds-modal__container">
                <div class="slds-modal__content slds-text-heading_medium" style="border-radius: 8px; background-color: rgba(255, 255, 255, 0.9);">
                    <div class="content-modal">
                        <h1>{labels.CCP2_DiscontinueMembership}?</h1>
                        <div class="btn-modal">
                            <button class="btn-no" onclick={handleNo}>{labels.CCP2_No}</button>
                            <button class="btn-yes" onclick={handleYes}>{labels.CCP2_Yes}</button>

                        </div>
                    </div>

                </div>


            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template> -->

    
    <template if:true={showServiceModal}>
        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open custom-modal">
        <div class="slds-modal__container custom-modal-container">
            <!-- <div class="slds-modal__content slds-text-heading_medium"> -->
                <div class="content-modal2">
                    <div class="modal-h1">
                        <p>本当に退会しますか？下記サービスがすべて利用</p>
                       <p> できなくなります。</p>
                    </div>
                    <ul>
                        <li>基本サービス（ふそうショップ）</li>
                        <li>{labels.CCP2_MonthlyRequestForm}</li>
                        <li>
                            <!-- {labels.CCP2_FinancialServices} -->
                            金融サービス
                        </li>
                        <li>{labels.CCP2_ReservationForVehicleInspection}</li>
                        <li>{labels.CCP2_VehicleManagement}</li>
                        <li>{labels.CCP2_ExpenseManagement}</li>
                    </ul>
                    <div class="btn-modal">
                        <button class="btn-no" onclick={handleNomodal2}>{labels.CCP2_No}</button>
                        <button class="btn-yes" onclick={handleYesmodal2}>{labels.CCP2_Yes}</button>
                    </div>
                </div>
            <!-- </div> -->
        </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open custom-backdrop"></div>
        <!-- <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container2">
                <div class="slds-modal__content2 slds-text-heading_medium">
                    <div class="content-modal2">
                        <h1><strong>Are you sure you want to cancel your membership? You will no longer be able to use the following services.</strong></h1>
                        <ul>
                            <li>Monthly request form</li>
                            <li>Financial services</li>
                            <li>Reservation for vehicle inspection</li>
                            <li>Vehicle Management</li>
                            <li>Expense Management</li>
                        </ul>
                        <div class="btn-modal">
                            <button class="btn-no" onclick={handleNomodal2}><strong>No</strong></button>
                            <button class="btn-yes" onclick={handleYesmodal2}><strong>Yes</strong></button>

                        </div>
                    </div>

                </div>


            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div> -->
    </template>


    <div>
        <template if:true={showConformpage}>
            <div class="main">
                <div class=" half top">
                    <img src={backgroundImagePC} class="imghead" alt="">
                    <div >
                        <!-- <h1 class="centered-text">{labels.CCP2_ApplicationDiscontinuation}</h1> -->
                    </div>
                </div>
                <div class="half bottom">
                <div class="center-content">

                    <template if:true={showstep1}>
                    <div class="main-content">


                            <div class="form">
                                <div class="heading-form">{labels.CCP2_ApplicationDiscontinuation}</div>
                                <img src={truckpic1}>
                                <div class="heading-over-info">このアカウントの退会申請を提出します。退会理由と情報の扱い方法を選択してください。</div>
    
                                <!-- <div class="form_container">
                                    <div class="data-rec">
                                        <div class="records">
                                            <div class="head">{labels.CCP2_CompanyName}</div>
                                            <div class="data">{userDetailData.account.name}</div>
                                        </div>
                                        <div class="records">
                                            <div class="head">{labels.CCP2_CustomerId}</div>
                                            <div class="data">{userDetailData.account.SiebelAccountCode__c}</div>
                                        </div>
                                        <div class="records">
                                            <div class="head">{labels.CCP2_FullName}</div>
                                            <div class="data">{userDetailData.Name}</div>
                                        </div>
                                        <div class="records">
                                            <div class="head">{labels.CCP2_NameFurigana}</div>
                                            <div class="data">{userDetailData.firstNameKana__c} {userDetailData.lastNameKana__c}</div>
                                        </div>
                                        <div class="records">
                                            <div class="head">{labels.CCP2_EmployeeNumber}</div>
                                            <div class="data">{userDetailData.Employee_Code__c}</div>
                                        </div>
                                        <div class="records">
                                            <div class="head">{labels.CCP2_WorkLocation}</div>
                                            <div class="databranch">

                                                <template for:each={branchfromjunction} for:item="branch">
    
                                                    <div key={branch.Name}>
                                                        <div class="data">{branch.Name}</div>
                                                    </div>
                                                </template>
                                            </div>
                                        </div>
                                        <div class="records">
                                            <div class="head">{labels.CCP2_Department}</div>
                                            <div class="data">{userDetailData.Department}</div>
                                        </div>
                                        <div class="records">
                                            <div class="head">{labels.CCP2_Position}</div>
                                            <div class="data">{userDetailData.Title}</div>
                                        </div>
                                        <div class="records">
                                            <div class="head">{labels.CCP2_EmailAddress}</div>
                                            <div class="data">{userDetailData.email}</div>
                                        </div>
                                        <div class="records">
                                            <div class="head">{labels.CCP2_TelephoneNo}</div>
                                            <div class="data">{userDetailData.Phone}</div>
                                        </div>
                                        <div class="records">
                                            <div class="head">{labels.CCP2_MobileNo}</div>
                                            <div class="data">{userDetailData.MobilePhone}</div>
                                        </div>
                                    </div>
                                    
                                </div> -->
                                <div class="card">
                                    <div class="heading-radio">
                                        <!-- <label> -->
                                            <div class="heading-line">
                                            <div  class="main-head">
                                                <h1>
                                                    <!-- {labels.CCP2_CancellationRequest} -->
                                                    退会理由（複数選択可能）       </h1>
                                            </div>
                                            <hr class="hrclass2">
                                            <div>
                                                </div>
                                                <!-- <span class="reqtxt">{labels.CCP2_Required}</span> -->
                                            </div>
                                            
                                        <!-- </label> -->
                                        
                                        
                                    </div>
                                    
                                    <div class="radio-btns">
                                        <label>
                                            <input type="checkbox" name="reason" value="使用頻度が低い" onchange={handleReasonChange} class="selected"> {labels.CCP2_LowFrequency}
                                        </label>
                                        
                                        <label>
                                            <input type="checkbox" name="reason" value="操作性が悪い" onchange={handleReasonChange} class="selected"> {labels.CCP2_PoorUsability}
                                        </label>
                                        
                                        <label>
                                            <input type="checkbox" name="reason" value="データ精度に不満がある" onchange={handleReasonChange} class="selected"> {labels.CCP2_DataAccuracyDissatisfaction}
                                        </label>

                                        <label>
                                            <input type="checkbox" name="reason" value="会員向けの特典・サービスが少ない" onchange={handleReasonChange} class="selected"> {labels.CCP2_FewMemberBenefits}
                                        </label>

                                        <label>
                                            <input type="checkbox" name="reason" value="他によい商品を見つけた" onchange={handleReasonChange} class="selected"> {labels.CCP2_FoundBetterProduct}
                                        </label>

                                        <label>
                                            <input type="checkbox" name="reason" value="廃業の為" onchange={handleReasonChange} class="selected"> {labels.CCP2_BusinessClosure}
                                        </label>

                                        <label>
                                            <input type="checkbox" name="reason" value="その他" onchange={handleReasonChange} class="selected"> {labels.CCP2_Other}
                                        </label>

                                        <div>
                                            <input type="text" value={otherReason} class="other-input" size="50" maxlength="100" onchange={handleOtherReasonChange} placeholder="100文字以内で記入してください。" disabled={isInputDisabled}  >
                                        </div>
                                    </div>
                                    
                                </div>
                                <div class="check-btn">
                                    <!-- <div class="check-label">このアカウントの情報の扱い方法をチェックしてください。</div> -->
                                  <div class="heading-line">
                                    <div  class="main-head2">
                                        <h1>
                                            <!-- {labels.CCP2_CancellationRequest} -->
                                            アカウント情報の扱い方法                                                </h1>
                                    </div>
                                    <hr class="hrclass2">
</div>
                                    <div class="checkbox-div">
                                        <label>
                                            <input type="checkbox" name="deletedata" value="アカウントのデータを永久に削除する" class={getRadioClasscheck} oninput={handleCheckbox} onchange={handleCheckbox}> {labels.CCP2_DeleteData}
                                        </label>
                                        <div class="month">
                                            <label><h1 style="color:red;">
                                                <strong>
                                                <!-- {labels.CCP2_DataDeletionNote} -->
                                                チェックしない場合、6ヶ月内に再入会しないと、アカウントとデータを永久に削除します。
                                                </strong>
                                            </h1></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="step2-btns">
                            <!-- <div class="button2">
                                <div class="btn2" onclick={handleCancel}>
                                    <P class="toedit2">キャンセル</P>
                                </div>
                            </div>  -->
                            <button class="prev-btn" onclick={handleCancel}>キャンセル</button>

                            <button onclick={handlestep1} class="next-button">{labels.CCP2_Next}</button>
                        </div>
                    </div>
                    </template>

                    <template if:true={showstep2}>
                    <div class="main-content">
                            <div class="form">
                                <div class="heading-form">{labels.CCP2_ApplicationDiscontinuation}</div>
                                <img src={truckpic2}>
                            <!-- <div class="form_container"> -->
                            <div class="form2-cont">
                                <div class="heading-over-info">申請内容をご確認ください。</div>
                                <!-- <div>
                                    <h1 class="part1">退会アカウント</h1>
                                    <hr class="hr-class">
                                </div>
                                <div class="data-rec">
                                    <div class="records">
                                        <div class="head">{labels.CCP2_CompanyName}</div>
                                        <div class="data">{userDetailData.account.name}</div>
                                    </div>
                                    <div class="records">
                                        <div class="head">{labels.CCP2_CustomerId}</div>
                                        <div class="data">{userDetailData.account.SiebelAccountCode__c}</div>
                                    </div>
                                    <div class="records">
                                        <div class="head">{labels.CCP2_FullName}</div>
                                        <div class="data">{userDetailData.Name}</div>
                                    </div>
                                    <div class="records">
                                        <div class="head">{labels.CCP2_NameFurigana}</div>
                                        <div class="data">{userDetailData.firstNameKana__c} {userDetailData.lastNameKana__c}</div>
                                    </div>
                                    <div class="records">
                                        <div class="head">{labels.CCP2_EmployeeNumber}</div>
                                        <div class="data">{userDetailData.Employee_Code__c}</div>
                                    </div>
                                    <div class="records">
                                        <div class="head">{labels.CCP2_WorkLocation}</div>
                                        <div>
                                            <template for:each={userDetailData.Branchs} for:item="branch">
                                                <div key={branch.Name}>
                                                    <div class="data">{branch.Name}</div>
                                                </div>
                                            </template>
                                        </div>
                                    </div>
                                    <div class="records">
                                        <div class="head">{labels.CCP2_Department}</div>
                                        <div class="data">{userDetailData.Department}</div>
                                    </div>
                                    <div class="records">
                                        <div class="head">{labels.CCP2_Position}</div>
                                        <div class="data">{userDetailData.Title}</div>
                                    </div>
                                    <div class="records">
                                        <div class="head">{labels.CCP2_EmailAddress}</div>
                                        <div class="data">{userDetailData.email}</div>
                                    </div>
                                    <div class="records">
                                        <div class="head">{labels.CCP2_TelephoneNo}</div>
                                        <div class="data">{userDetailData.Phone}</div>
                                    </div>
                                    <div class="records">
                                        <div class="head">{labels.CCP2_MobileNo}</div>
                                        <div class="data">{userDetailData.MobilePhone}</div>
                                    </div> -->

                                    <div class="step2-input">
                                        <div class="head-input">
                                            <!-- {labels.CCP2_ReasonForDiscontinuation} -->
                                            退会理由
                                        </div>
                                        <hr class="hrclass2">
                                        <ul>
                                            <template for:each={selectedReasonMessages} for:item="reason">
                                                <li key={reason}>{reason}</li>
                                            </template>
                                        </ul>                                    </div>

                                    <div class="step2-input">
                                        <div class="head-input">アカウント情報の扱い方法</div>
                                        <hr class="hrclass2">
                                        <div class="data-input">{deletecheckbox}</div>
                                    </div>
                                </div>
                            <!-- </div> -->
                                
                                
                            <!-- </div> -->
                            <div class="step2-btns">
                                <button class="prev-btn" onclick={handlePrevstep2}>{labels.CCP2_Previous}</button>
                                <button class="next-button" onclick={handlestep2}>{labels.CCP2_Next}</button>
                            </div>
                            </div>
                        </div>
                    </template>
                    
                    <template if:true={showstep3}>
                    <div class="main-content">
                            <div class="form">
                                <div class="heading-form">{labels.CCP2_ApplicationDiscontinuation}</div>
                                <img src={truckpic3}>

                                <div class="step3-div">
                                    <div>
                                        <h1>
                                            <!-- {labels.CCP2_ContactManagement} -->
                                            退会を受け付けました。
                                        </h1>
                                    </div>
                                    <!-- <div style="text-align:center;">
                                        <button class="next-button" onclick={handleTop}>{labels.CCP2_TOPPage}</button>

                                    </div> -->
                                </div>
                            </div>
                        </div>
                    </template>
                    

                </div>
            </div>
            </div>
        </template>


    </div>

    <!-- <template if:true={showCancelModal}>
        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open custom-modal">
            <div class="slds-modal__container">
                <div class="slds-modal__content slds-text-heading_medium custom-modal-content">
                    <div class="content-modal">
                        <div class="modal-title">
                            <p> <strong>    入力された内容が保存していませんが、</strong></p>
                                <br>
                            <p><strong>終了しますか？</strong></p>
                        </div> -->
                        <!-- <h1 class="modal-title"><strong>入力された内容が保存していませんが、終了しますか？</strong></h1> -->
                        <!-- <div class="btn-modal">
                            <button class="btn-no" onclick={handleNo}>{labels.CCP2_No}</button>
                            <button class="btn-yes" onclick={handleYes}>{labels.CCP2_Yes}</button>

                        </div> -->
                        <!-- <div class="btn-modal-Cancel">
                            <div class="form-footer-modal">
                                <div class="button2No">
                                    <div class="btn2No" onclick={handleCancelNo}>
                                        <P class="toedit2No">いいえ</P>
                                    </div>
                                </div>
                                <div class="buttonYes">
                                    <div class="btnYes" onclick={handleCancelYes}>
                                        <P class="toeditYes">はい</P>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    <!-- </div>
                </div>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template> -->

    <template if:true={showCancelModal}>
        <div class="modal-background-last">
            <div class="modal-window-small">
                <div class="warning">
                    <p class="warntxt">入力された内容が保存していませんが、</p>
                    <p class="warntxt more"> 終了しますか？</p>
                </div>
                <div class="buttons-small">
                    <div class="cancelbutton btn21" onclick={handleCancelNo}>
                        <p class="buttontxt">{labels.CCP2_No}</p>
                    </div>
                    <div class="searchbutton btn21" onclick={handleCancelYes}>
                        <p class="buttontxt2">{labels.CCP2_Yes}</p>
                    </div>
                </div>
            </div>
        </div>
    </template>
    
</template>