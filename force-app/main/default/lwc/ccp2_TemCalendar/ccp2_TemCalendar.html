<template>
    <div class="main">
      <div class="half top">
        <img src={backgroundImagePC} class="main_image" alt="background_Image" />
      </div>
      <div class="half bottom">
        <div class="center-content">
          <div class="main-calender-container">
            <div class="main-calender-container-header">
              <div class="left-head-container">
                <p class="calender-heading">整備カレンダー</p>
           
                <template if:true={showMonthlyCalendar}>
                  <div class="Calender-toogle-button">
                    <div class="Calender-button-nouse" style="margin-left: 5px" onclick={calendertoogleAnnualy}>
                      年間
                    </div>
                    <button class="Calender-button-left" style="cursor: default;">
                      月間
                    </button>
                  </div>
                </template>
              </div>
              <div class="right-head-container">
                <div class="filter A">
                  <svg width="17" height="21" viewBox="0 0 20 21" fill="none" style="cursor: pointer"
                    class="mm-drop-down-icon2" xmlns="http://www.w3.org/2000/svg" onclick={toggleMaintainTypeSelection}>
                    <g clip-path="url(#clip0_14998_62367)">
                      <g filter="url(#filter0_d_14998_62367)">
                        <path
                          d="M17.5 7.3877L15.7375 5.48486L10 11.6657L4.2625 5.48486L2.5 7.3877L10 15.4849L17.5 7.3877Z"
                          fill="#262626" />
                      </g>
                    </g>
                    <defs>
                      <filter id="filter0_d_14998_623677" x="-17.5" y="-14.5151" width="55" height="50"
                        filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                          result="hardAlpha" />
                        <feOffset />
                        <feGaussianBlur stdDeviation="10" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0" />
                        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_14998_62367" />
                        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_14998_62367" result="shape" />
                      </filter>
                      <clipPath id="clip0_14998_623677">
                        <rect width="20" height="20" fill="white" transform="translate(0 0.484863)" />
                      </clipPath>
                    </defs>
                  </svg>
                  <p class="ftextNew" onclick={toggleMaintainTypeSelection}>整備種別</p>
                  <div class="branch-selection-container" if:true={showMaintainTypeSelection} onclick={handleinsideclick}>
                    <div class="mm-filter-dropdown">
                      <template for:each={maintainenceType} for:item="elm">
                        <div class="mm-filter-dropdown-rows" key={elm.label}>
                          <input type="checkbox" name={elm.label} checked={elm.selected}
                            onchange={handleMaintainTypeSelect} style="cursor: pointer;" />
                          <p>{elm.label}</p>
                        </div>
                      </template>
                    </div>
                  </div>
                </div>
                <div class="filter B">
                  <svg width="17" height="21" viewBox="0 0 20 21" style="cursor: pointer" fill="none" onclick={toggleMaintainFactorySelection}
                    class="mm-drop-down-icon2" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_14998_62367)">
                      <g filter="url(#filter0_d_14998_62367)">
                        <path
                          d="M17.5 7.3877L15.7375 5.48486L10 11.6657L4.2625 5.48486L2.5 7.3877L10 15.4849L17.5 7.3877Z"
                          fill="#262626" />
                      </g>
                    </g>
                    <defs>
                      <filter id="filter0_d_14298_623677" x="-17.5" y="-14.5151" width="55" height="50"
                        filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                          result="hardAlpha" />
                        <feOffset />
                        <feGaussianBlur stdDeviation="10" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0" />
                        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_14998_62367" />
                        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_14998_62367" result="shape" />
                      </filter>
                      <clipPath id="clip0_14918_623677">
                        <rect width="20" height="20" fill="white" transform="translate(0 0.484863)" />
                      </clipPath>
                    </defs>
                  </svg>
                  <p class="ftextNew" onclick={toggleMaintainFactorySelection}>入庫区分</p>
                  <div class="branch-selection-container-2" if:true={showMaintainFactorySelection}
                    onclick={handleinsideclick}>
                    <div class="mm-filter-dropdown-2">
                      <template for:each={maintainenceFactory} for:item="elm">
                        <div class="mm-filter-dropdown-rows-2" key={elm.label}>
                          <input type="checkbox" name={elm.label} checked={elm.selected} onchange={handleMaintainFactorySelect}
                            style="cursor: pointer;" />
                          <p>{elm.label}</p>
                        </div>
                      </template>
                    </div>
                  </div>
                </div>
                <div class="filter C">
                  <svg width="17" height="21" viewBox="0 0 20 21" style="cursor: pointer" fill="none"  onclick={toggleOthersSelection}
                    class="mm-drop-down-icon2" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_14998_62367)">
                      <g filter="url(#filter0_d_14998_62367)">
                        <path
                          d="M17.5 7.3877L15.7375 5.48486L10 11.6657L4.2625 5.48486L2.5 7.3877L10 15.4849L17.5 7.3877Z"
                          fill="#262626" />
                      </g>
                    </g>
                    <defs>
                      <filter id="filter0_d_14998_613677" x="-17.5" y="-14.5151" width="55" height="50"
                        filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                          result="hardAlpha" />
                        <feOffset />
                        <feGaussianBlur stdDeviation="10" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0" />
                        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_14998_62367" />
                        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_14998_62367" result="shape" />
                      </filter>
                      <clipPath id="clip0_14998_623077">
                        <rect width="20" height="20" fill="white" transform="translate(0 0.484863)" />
                      </clipPath>
                    </defs>
                  </svg>
                  <p class="ftextNew" onclick={toggleOthersSelection}>その他</p>
                  <div class="branch-selection-container-3" if:true={showOthersSelection} onclick={handleinsideclick}>
                    <div class="mm-filter-dropdown-3">
                      <template for:each={OtherArray} for:item="elm">
                        <div class="mm-filter-dropdown-rows-3" key={elm.label}>
                          <input type="checkbox" name={elm.label} checked={elm.selected} onchange={handleOthersSelect}
                            style="cursor: pointer;" />
                          <p>{elm.label}</p>
                        </div>
                      </template>
                    </div>
                  </div>
                </div>
                <div class="filter D" onclick={FilterOpen}>
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="cursor: pointer"
                    viewBox="0 0 24 24" fill="none">
                    <path
                      d="M7.00848 6H17.0085L11.9985 12.3L7.00848 6ZM4.25848 5.61C6.27848 8.2 10.0085 13 10.0085 13V19C10.0085 19.55 10.4585 20 11.0085 20H13.0085C13.5585 20 14.0085 19.55 14.0085 19V13C14.0085 13 17.7285 8.2 19.7485 5.61C20.2585 4.95 19.7885 4 18.9585 4H5.04848C4.21848 4 3.74848 4.95 4.25848 5.61Z"
                      fill="#262626" />
                  </svg>
                  <p class="ftextNew">詳細検索</p>
                  <div class="branch-selection-container" if:true={showBranchSelection} onclick={handleinsideclick}>
                    <div class="mm-filter-dropdown">
                      <!-- <template for:each={branchOptions} for:item="elm">
                                        <div class="mm-filter-dropdown-rows" key={elm.branchId}>
                                          <input type="checkbox" name={elm.branchId} checked={elm.selected}
                                            onchange={handleBranchSelect} style="cursor: pointer;" />
                                          <p>{elm.branchName}</p>
                                        </div>
                                      </template> -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <template if:true={statusofpills}>
              <div class="calender-pills">
                <P style="width: 100px;">絞り込み条件：</P>
                <div class="pills">
                  <template for:each={CalenderPills} for:item="vehicle">
                    <span key={vehicle.vehicleName} class="pill">
                      <span class="pill__label">{vehicle.vehicleName}</span>
                      <button class="pill__remove" data-key={vehicle.vehicleName} data-value={vehicle.vehicleName}
                        onclick={removePill}>
                        ✖
                      </button>
                    </span>
                  </template>
                </div>
              </div>
            </template>
            <hr class="Calender-top-divider" />
            <div class="main-calender-container-body" if:false={showCalendarLoader}>
              <!-- <div if:true={showCalendarLoader} 
              style="
                                  position: absolute;
                                  width: 98%;
                                  height: 100%;
                                  display: flex;
                                  justify-content: center;
                                  align-items: center;
                                ">
                <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
              </div> -->
              <div style="display: grid;  grid-template-columns: minmax(119px, 196px) 1fr; gap: 4px; margin-bottom: 8px">
                <div class="calender-information-card">
                  <div class="calender-info">
                    <div class="Cal-info-count">
                      <p style="font-size: 16px; font-weight:700;">車検満了日30日前</p>
                      <p class="calender-big-text">{vehicleNearExpCount}台</p>
                    </div>
                    <div class="Calender-count">
                      <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none">
                        <path
                          d="M7.83594 10.44C7.83594 10.0719 8.13441 9.77338 8.5026 9.77338C8.87079 9.77338 9.16927 10.0719 9.16927 10.44V11.1673C9.16927 11.5355 8.87079 11.834 8.5026 11.834C8.13441 11.834 7.83594 11.5355 7.83594 11.1673V10.44ZM7.83594 5.83398C7.83594 5.46579 8.13441 5.16732 8.5026 5.16732C8.87079 5.16732 9.16927 5.46579 9.16927 5.83398V8.50065C9.16927 8.86884 8.87079 9.16732 8.5026 9.16732C8.13441 9.16732 7.83594 8.86884 7.83594 8.50065V5.83398ZM8.49594 1.83398C4.81594 1.83398 1.83594 4.82065 1.83594 8.50065C1.83594 12.1806 4.81594 15.1673 8.49594 15.1673C12.1826 15.1673 15.1693 12.1806 15.1693 8.50065C15.1693 4.82065 12.1826 1.83398 8.49594 1.83398ZM8.5026 13.834C5.55594 13.834 3.16927 11.4473 3.16927 8.50065C3.16927 5.55398 5.55594 3.16732 8.5026 3.16732C11.4493 3.16732 13.8359 5.55398 13.8359 8.50065C13.8359 11.4473 11.4493 13.834 8.5026 13.834Z"
                          fill="#E10202" />
                      </svg>
                      <P style="font-size: 11px;">そのうち、市場措置該当車両</P>
                      <strong>1台</strong>
                    </div>
                  </div>
                  <div class="calender-buttons-information">
                    <div class="info-toogle-button">
                      <P>通知</P>
                      <template if:false={CalenderSwapsmall}>
                        <div class="Calender-toogle-button-small">
                          <button class="Calender-button-left-small" style="cursor: default;">
                            オフ
                          </button>
                          <div class="Calender-button-nouse-small" onclick={calendertooglesmall}>
                            オン
                          </div>
                        </div>
                      </template>
                      <template if:true={CalenderSwapsmall}>
                        <div class="Calender-toogle-button-small">
                          <div class="Calender-button-nouse-small" style="margin-left: 5px" onclick={calendertooglesmall}>
                            オフ
                          </div>
                          <button class="Calender-button-left-small" style="cursor: default;">
                            オン
                          </button>
                        </div>
                      </template>
                    </div>
                    <p class="link-of-redirect">詳細設定へ</p>
                  </div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 15px" if:true={showMonthlyCalendar}>
                  <div class="main-calender-buttons">
                    <div class="Calender-container-prev-next">
                      <div class="calender-prev">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                          style="cursor: pointer" onclick={handleCalendarPrevClick}>
                          <g clip-path="url(#clip0_26479_159782)">
                            <g filter="url(#filter0_d_26479_159782)">
                              <path d="M14.4777 18L16 16.59L11.0553 12L16 7.41L14.4777 6L8 12L14.4777 18Z"
                                fill="#E10202" />
                            </g>
                          </g>
                          <defs>
                            <filter id="filter0_d_26479_159782" x="-12" y="-14" width="48" height="52"
                              filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                              <feFlood flood-opacity="0" result="BackgroundImageFix" />
                              <feColorMatrix in="SourceAlpha" type="matrix"
                                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                              <feOffset />
                              <feGaussianBlur stdDeviation="10" />
                              <feComposite in2="hardAlpha" operator="out" />
                              <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0" />
                              <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_26479_159782" />
                              <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_26479_159782"
                                result="shape" />
                            </filter>
                            <clipPath id="clip0_26479_159782">
                              <rect width="24" height="24" fill="white" />
                            </clipPath>
                          </defs>
                        </svg>
                      </div>
                      <p style="font-size: 16px;" onclick={openCalendar}>{currentStartDate}‐{currentEndDate}</p>
                      <template if:true={isCalendarOpen}>
                        <div class="calendar-popup" onclick={handleInsideClick}>
                          <div class="calendar-header">
                          <div>
                            <button class="button-disable">
                            <lightning-icon
                              class="nav-button prev-button"
                              icon-name="utility:chevronleft"
                              alternative-text="Previous Month"
                              onclick={goToPreviousMonth}
                              size="xx-small"
                            >
                            </lightning-icon>
                            </button>
                            <span class="calendar-month">{monthLabel}</span>
                            <button
                            class="button-disable"
                            disabled={isNextMonthDisabled}
                            >
                            <lightning-icon
                              class="nav-button next-button"
                              icon-name="utility:chevronright"
                              alternative-text="Next Month"
                              onclick={goToNextMonth}
                              size="xx-small"
                            >
                            </lightning-icon>
                            </button>
                          </div>
                          <div>
                            <span class="calendar-year">{era} {year}</span>
                          </div>
                          </div>
                      
                          <div class="calendar-days-row">
                          <div class="day-label">日</div>
                          <div class="day-label">月</div>
                          <div class="day-label">火</div>
                          <div class="day-label">水</div>
                          <div class="day-label">木</div>
                          <div class="day-label">金</div>
                          <div class="day-label">土</div>
                          </div>
                      
                          <div class="calendar-dates-grid">
                          <template for:each={calendarDates} for:item="day">
                            <button
                            key={day.value}
                            class={day.className}
                            data-day={day.value}
                            onclick={selectDate}
                            disabled={day.isDisabled}
                            >
                            {day.value}
                            </button>
                          </template>
                          </div>
                      
                          <div class="calendar-footer">
                          <div class="reset-button" onclick={resetDate}>
                            <svg
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            >
                            <path
                              d="M11 20.95C8.98333 20.7 7.3125 19.8208 5.9875 18.3125C4.6625 16.8042 4 15.0333 4 13C4 11.9 4.21667 10.8458 4.65 9.8375C5.08333 8.82917 5.7 7.95 6.5 7.2L7.925 8.625C7.29167 9.19167 6.8125 9.85 6.4875 10.6C6.1625 11.35 6 12.15 6 13C6 14.4667 6.46667 15.7625 7.4 16.8875C8.33333 18.0125 9.53333 18.7 11 18.95V20.95ZM13 20.95V18.95C14.45 18.6833 15.6458 17.9917 16.5875 16.875C17.5292 15.7583 18 14.4667 18 13C18 11.3333 17.4167 9.91667 16.25 8.75C15.0833 7.58333 13.6667 7 12 7H11.925L13.025 8.1L11.625 9.5L8.125 6L11.625 2.5L13.025 3.9L11.925 5H12C14.2333 5 16.125 5.775 17.675 7.325C19.225 8.875 20 10.7667 20 13C20 15.0167 19.3375 16.7792 18.0125 18.2875C16.6875 19.7958 15.0167 20.6833 13 20.95Z"
                              fill="#262626"
                            />
                            </svg>
                            <p>リセット</p>
                          </div>
                          </div>
                        </div>
                        </template>
                      <div class="calender-prev">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                          style="cursor: pointer" onclick={handleCalendarNextClick}>
                          <g clip-path="url(#clip0_26479_159785)">
                            <g filter="url(#filter0_d_26479_159785)">
                              <path d="M9.52227 6L8 7.41L12.9447 12L8 16.59L9.52227 18L16 12L9.52227 6Z" fill="#E10202" />
                            </g>
                          </g>
                          <defs>
                            <filter id="filter0_d_26479_159785" x="-12" y="-14" width="48" height="52"
                              filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                              <feFlood flood-opacity="0" result="BackgroundImageFix" />
                              <feColorMatrix in="SourceAlpha" type="matrix"
                                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                              <feOffset />
                              <feGaussianBlur stdDeviation="10" />
                              <feComposite in2="hardAlpha" operator="out" />
                              <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0" />
                              <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_26479_159785" />
                              <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_26479_159785"
                                result="shape" />
                            </filter>
                            <clipPath id="clip0_26479_159785">
                              <rect width="24" height="24" fill="white" transform="matrix(-1 0 0 -1 24 24)" />
                            </clipPath>
                          </defs>
                        </svg>
  
                      </div>
                    </div>
                  </div>
                  <div class="calendar-top-dates">
                    <div class="calendar-top-dates-items" for:each={currentDates} for:item="date" key={date.date}>
                      <div class={date.topDatesCss}>{date.date}</div>
                      <div class={date.topLogoCss}>{date.day}</div>
                    </div>
                  </div>
                </div>
               
              </div>
  
              <div class="calendar-middle-container" style="
                  display: flex;
                  flex-direction: column;
                  gap: 4px;
                  margin-bottom: 10px;
                  background-color: white;
                ">
                <template for:each={vehicleStoredData} for:item="elm" if:true={showMonthlyCalendar}>
                  <div
                    style="display: grid; gap: 4px; align-items: start; grid-template-columns: minmax(119px, 200px) repeat(20, 1fr);"
                    key={elm.Id}>
                    <div class="calendar-middle-items-left" onclick={openMaintainVehicleModal}>
                      <lightning-icon icon-name={elm.favIcon} class="back-icon" alternative-text="Star" size="x-small"
                        data-vehicle-id={elm.Id}></lightning-icon>
                      <p class="Vehicle-Text">{elm.Registration_Number__c}</p>
                    </div>
  
                    <div class={date.classForBoxes} for:each={elm.dates} for:item="date" key={date.date}
                      onclick={openColorDetailModal}>
                       <template if:true={date.isContinue}>
                        <span if:true={date.isMaintenanceAvailable} class='more-maintenance-box'>+{date.countOfMaintenance}</span>
                        <span class="prev-color-cover"></span>
                      </template>
                      <template if:false={date.isContinue}>
                        <template if:true={date.isMultiple}>
                          <span if:true={date.isMaintenanceAvailable} class={date.cssClass} style={date.width}>{date.serviceType}</span>
                          <p if:true={date.isStart} style="height: calc(50% - 2px);"></p>
                          <span if:true={date.isMaintenanceAvailable} class='more-maintenance-box'>+{date.countOfMaintenance}</span>
                          <span class="prev-color-cover"></span>
                        </template> 
                        <template if:false={date.isMultiple}>
                          <span if:true={date.isMaintenanceAvailable} class={date.cssClass} style={date.width}>{date.serviceType}</span>
                          <p if:true={date.isStart}></p>
                        </template>
                      </template> 
                    </div>
                  </div>
                </template>
              </div>
            </div>
            <div class="main-calender-container-footer">
              <div class="footer-left">
                <div class="calender-legends">
                  <div class="box-of-color colorA">
                    <div class="color-strip FullA"></div>
                  </div>
                  <P class="legend-title">ふそう</P>
                </div>
                <div class="calender-legends">
                  <div class="box-of-color colorB">
                    <div class="color-strip FullB"></div>
                  </div>
                  <P class="legend-title">自社</P>
                </div>
                <div class="calender-legends">
                  <div class="box-of-color colorC">
                    <div class="color-strip FullC"></div>
                  </div>
                  <P class="legend-title">ふそう/自社 以外</P>
                </div>
                <div class="calender-legends">
                  <div class="box-of-color colorD">
                    <div class="color-strip FullD"></div>
                  </div>
                  <P class="legend-title">車検満了</P>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <template if:true={showVehicleModal}>
      <div class="modal-background-last">
        <div class="modal-window-small" style="padding: 24px 48px">
          <div class="header-calender-modal">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              style="cursor: pointer" onclick={closeMaintainVehicleModal}>
              <path
                d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"
                fill="#262626" />
            </svg>
          </div>
          <div class="Calender-details-container">
            <div class="Data-record">
              <p class="title">お客様管理番号</p>
              <p class="data">食品運輸1号車</p>
            </div>
            <div class="Data-record">
              <p class="title">登録番号</p>
              <p class="data">品川100う6558</p>
            </div>
            <div class="Data-record">
              <p class="title">車名</p>
              <p class="data">ふそう</p>
            </div>
            <div class="Data-record">
              <p class="title">自動車の種別</p>
              <p class="data">小型</p>
            </div>
            <div class="Data-record">
              <p class="title">所属</p>
              <p class="data">品川支店</p>
            </div>
          </div>
          <div class="link-calender">
            <p class="link-of-redirect">詳細情報へ</p>
          </div>
          <div class="buttons-small">
            <div class="footer-buttons-item">
              <svg width="18" height="21" viewBox="0 0 18 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M16 2.5H15V0.5H13V2.5H5V0.5H3V2.5H2C0.89 2.5 0.00999999 3.4 0.00999999 4.5L0 18.5C0 19.6 0.89 20.5 2 20.5H16C17.1 20.5 18 19.6 18 18.5V4.5C18 3.4 17.1 2.5 16 2.5ZM16 18.5H2V8.5H16V18.5ZM16 6.5H2V4.5H16V6.5ZM6 12.5H4V10.5H6V12.5ZM10 12.5H8V10.5H10V12.5ZM14 12.5H12V10.5H14V12.5ZM6 16.5H4V14.5H6V16.5ZM10 16.5H8V14.5H10V16.5ZM14 16.5H12V14.5H14V16.5Z"
                  fill="black" />
              </svg>
              <span>整備予定登録</span>
            </div>
            <div class="footer-buttons-item">
              <svg width="20" height="15" viewBox="0 0 20 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M0.933594 4H13V6H0.933594V4ZM0.933594 2H19V0H0.933594V2ZM0.933594 10H7.93359V8H0.933594V10ZM15.9436 6.87L16.6536 6.16C17.0436 5.77 17.6736 5.77 18.0636 6.16L18.7736 6.87C19.1636 7.26 19.1636 7.89 18.7736 8.28L18.0636 8.99L15.9436 6.87ZM15.2336 7.58L9.93359 12.88V15H12.0536L17.3536 9.7L15.2336 7.58Z"
                  fill="black" />
              </svg>
              <span>整備履歴登録</span>
            </div>
          </div>
        </div>
      </div>
    </template>
    <template if:true={colordetailsModal}>
      <div class="modal-background-last">
        <div class="modal-window-small-color">
          <div class={ColorStrip}></div>
          <div class={colorHeader}>
            <p>品川100う6558</p>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              style="cursor: pointer" onclick={CloseColorDetailModal}>
              <path
                d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"
                fill="#262626" />
            </svg>
          </div>
          <div class="Calender-details-container-color">
            <div class="Data-record">
              <p class="title-color">お客様管理番号</p>
              <p class="data-color">食品運輸1号車</p>
            </div>
            <div class="Data-record">
              <p class="title-color">登録番号</p>
              <p class="data-color">品川100う6558</p>
            </div>
            <div class="Data-record">
              <p class="title-color">車名</p>
              <p class="data-color">ふそう</p>
            </div>
            <div class="Data-record">
              <p class="title-color">自動車の種別</p>
              <p class="data-color">小型</p>
            </div>
            <div class="Data-record">
              <p class="title-color">所属</p>
              <p class="data-color">品川支店</p>
            </div>
          </div>
          <div class="link-calender-color">
            <p class="link-of-redirect">詳細情報へ</p>
          </div>
        </div>
      </div>
    </template>
    <template if:true={showFilterModal}>
      <div class="modal-background-last">
        <div class="modal-window-Filter-Modal">
          <div class="Header-filter-modal">
            <div class="Filter-btns">
              <div class="Filter-header-button-close">
                <lightning-icon icon-name='utility:close' alternative-text='close' size='x-small' onclick={FilterClose}
                  class="closeIcon"></lightning-icon>
              </div>
            </div>
          </div>
          <div class="Filter-Name-container">
            <div class="Filter-Picklists">
              <div class="Filter-Picklist-ondemand 1">
                <h3>所属先</h3>
                <div class="dropdown-input-container">
                  <input class="dropdown-input-container-text"  onclick={branchOpen} placeholder="select" type="text"
                    value={branchesValue} readonly></input>
                  <svg width="17" height="21" viewBox="0 0 20 21" fill="none" class="mm-drop-down-icon1"
                    xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_14998_62367)">
                      <g filter="url(#filter0_d_14998_62367)">
                        <path
                          d="M17.5 7.3877L15.7375 5.48486L10 11.6657L4.2625 5.48486L2.5 7.3877L10 15.4849L17.5 7.3877Z"
                          fill="#262626" />
                      </g>
                    </g>
                    <defs>
                      <filter id="filter0_d_14998_623677_21" x="-17.5" y="-14.5151" width="55" height="50"
                        filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                          result="hardAlpha" />
                        <feOffset />
                        <feGaussianBlur stdDeviation="10" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0" />
                        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_14998_62367" />
                        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_14998_62367" result="shape" />
                      </filter>
                      <clipPath id="clip0_14998_623677_21">
                        <rect width="20" height="20" fill="white" transform="translate(0 0.484863)" />
                      </clipPath>
                    </defs>
                  </svg>
  
                  <div class="dropdown-container" if:true={showbranchDropdown} onclick={handleinsideclick}>
                    <div class="mm-filter-dropdown">
                      <template for:each={branchOptions} for:item="elm">
                        <div class="mm-filter-dropdown-rows" key={elm.branchId}>
                          <input type="checkbox" name={elm.branchId} checked={elm.selected} onchange={handleBranchSelect}
                            style="cursor: pointer;" />
                          <p>{elm.branchName}</p>
                        </div>
                      </template>
                    </div>
                  </div>
                </div>
              </div>
              <div class="Filter-Picklist-ondemand 1">
                <h3>車名</h3>
                <div class="dropdown-input-container">
                  <input class="dropdown-input-container-text" onclick={toggleVehicleType} placeholder="select" type="text" value={vehicleTypeValue}
                    readonly></input>
                  <svg width="17" height="21" viewBox="0 0 20 21" fill="none" class="mm-drop-down-icon1"
                    xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_14998_62367)">
                      <g filter="url(#filter0_d_14998_62367)">
                        <path
                          d="M17.5 7.3877L15.7375 5.48486L10 11.6657L4.2625 5.48486L2.5 7.3877L10 15.4849L17.5 7.3877Z"
                          fill="#262626" />
                      </g>
                    </g>
                    <defs>
                      <filter id="filter0_d_14998_6236771_12" x="-17.5" y="-14.5151" width="55" height="50"
                        filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                          result="hardAlpha" />
                        <feOffset />
                        <feGaussianBlur stdDeviation="10" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0" />
                        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_14998_62367" />
                        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_14998_62367" result="shape" />
                      </filter>
                      <clipPath id="clip0_14998_6236771_12">
                        <rect width="20" height="20" fill="white" transform="translate(0 0.484863)" />
                      </clipPath>
                    </defs>
                  </svg>
  
                  <div class="dropdown-container" if:true={showVehicleTypeDropdown} onclick={handleinsideclick2}>
                    <div class="mm-filter-dropdown1">
                      <template for:each={vehicleTypesPicklistValues} for:item="elm">
                        <div class="mm-filter-dropdown-rows1" key={elm.label}>
                          <input type="checkbox" name={elm.label} class="input-filter-list-items" checked={elm.selected}
                            onchange={handleVehicleTypeSelect} />
                          <p>{elm.label}</p>
                        </div>
                      </template>
  
                    </div>
                  </div>
                </div>
              </div>
              <div class="Filter-Picklist-ondemand 1">
                <h3>自動車の種別</h3>
                <div class="dropdown-input-container" >
                  <input class="dropdown-input-container-text" onclick={toggleVehicleName} placeholder="select" type="text" value={vehicleNameValue}
                    readonly></input>
                  <svg width="17" height="21" viewBox="0 0 20 21" fill="none" class="mm-drop-down-icon1"
                    xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_14998_62367)">
                      <g filter="url(#filter0_d_14998_62367)">
                        <path
                          d="M17.5 7.3877L15.7375 5.48486L10 11.6657L4.2625 5.48486L2.5 7.3877L10 15.4849L17.5 7.3877Z"
                          fill="#262626" />
                      </g>
                    </g>
                    <defs>
                      <filter id="filter0_d_14998_6216771_12" x="-17.5" y="-14.5151" width="55" height="50"
                        filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                          result="hardAlpha" />
                        <feOffset />
                        <feGaussianBlur stdDeviation="10" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0" />
                        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_14998_62367" />
                        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_14998_62367" result="shape" />
                      </filter>
                      <clipPath id="clip0_14998_6236271_12">
                        <rect width="20" height="20" fill="white" transform="translate(0 0.484863)" />
                      </clipPath>
                    </defs>
                  </svg>
  
                  <div class="dropdown-container" if:true={showVehicleNameDropdown} onclick={handleinsideclick}>
                    <div class="mm-filter-dropdown" style="max-height: 118px;">
                      <template for:each={vehicleNamesPicklistValues} for:item="elm">
                        <div class="mm-filter-dropdown-rows" key={elm.label}>
                          <input type="checkbox" name={elm.label} class="input-filter-list-items" checked={elm.selected}
                            onchange={handleVehicleNameSelect} />
                          <p>{elm.label}</p>
                        </div>
                      </template>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="buttons-filter-small">
            <div class="filter-reset-button" onclick={handleResetofFilter}>
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="25"
                viewBox="0 0 24 25" class="input-filter-list-items">
                <image
                  xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAAAXNSR0IArs4c6QAAAfNJREFUSEvNVVFu2kAQnbEE33CDreQd+TM5QcMN0hOU3ICcgHCC9gakJwg9QegJwif2rlXfIHwb7U41aC1ZYGMnKlH8h5l5b97um2eECz94YXz4PARKqdFwOFyWZXlfFEXRV3kvBQI+GAyeEfGKmdfGmMl/I6iDCygzP3rvfzvnNn2UdCogoicAuG2aWMj2+/3iHFErgVJKSWOSJMp7/wwAKpCsEHHMzF+Dop33fpbn+a+mIRoJtNZXiPjinJtKY52EmTfGmOvw7gEAvguw935irV0fkzQSENHfMPEiyzIBgQC4YuapMWZTARGR/D8HgKIsy+uiKHZ1khMCrfUUEZfSkGXZlz5u0VqLw2689/fW2p9dBIdiZr4zxjz2ISAiMcFTk4VPFBDRKwCMyrIcH8ttIwtL+MrMO2PM+KwCImIpyLKs08J1oLa+j1dQu7BG2zUdU3UHiPgnTdObriM62O4tmUNELwAgOXVijJMjChcmezDy3j9YaxfnnBTH8TyKIhlK9mByHBtti3awXdjQRpIQgnNEnEmdc+5bnuerXpssRXEcz6Io+hEainBkd/Jba71ERBliFPKodWfOWlHiQRKzCrbKupUl5VIl6OrR0VtBvTAQ3aZpeoiBJEmmALDebredX7Y3LVOf2HiXgvcAVz0XV/APo2otKbuBn60AAAAASUVORK5CYII="
                  x="0" y="0" width="24" height="25" />
              </svg>
              <p class="filter-reset-label">リセット</p>
            </div>
            <div class="searchbutton-download btn-Filter-Main" onclick={handleFilterSave}>
              <p class="buttontxt2">保存</p>
            </div>
          </div>
        </div>
      </div>
    </template>
  </template>